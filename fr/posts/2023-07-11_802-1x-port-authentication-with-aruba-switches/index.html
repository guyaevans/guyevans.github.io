<!doctype html><html lang=fr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>Authentification des ports 802.1x avec des switches ARUBA - Guy Evans</title><script src=https://identity.netlify.com/v1/netlify-identity-widget.js></script><meta name=Description content="Sysadmin -- Net Admin -- IT Tech -- DIYer"><meta property="og:title" content="Authentification des ports 802.1x avec des switches ARUBA"><meta property="og:description" content="Imaginez une situation o√π vous avez une salle de r√©union publique √©quip√©e de ports Ethernet accessibles, et vous voulez assurer un acc√®s s√©curis√© √† ces ports. L&rsquo;une des options est l&rsquo;authentification de port 802.1X - Jetons un coup d&rsquo;≈ìil √† la configuration du c√¥t√© du switch."><meta property="og:type" content="article"><meta property="og:url" content="https://guy-evans.com/fr/posts/2023-07-11_802-1x-port-authentication-with-aruba-switches/"><meta property="og:image" content="https://guy-evans.com/fr/posts/2023-07-11_802-1x-port-authentication-with-aruba-switches/feature.jpg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-07-13T14:32:51+00:00"><meta property="article:modified_time" content="2023-07-13T14:32:51+00:00"><meta property="og:site_name" content="Guy Evans"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://guy-evans.com/fr/posts/2023-07-11_802-1x-port-authentication-with-aruba-switches/feature.jpg"><meta name=twitter:title content="Authentification des ports 802.1x avec des switches ARUBA"><meta name=twitter:description content="Imaginez une situation o√π vous avez une salle de r√©union publique √©quip√©e de ports Ethernet accessibles, et vous voulez assurer un acc√®s s√©curis√© √† ces ports. L&rsquo;une des options est l&rsquo;authentification de port 802.1X - Jetons un coup d&rsquo;≈ìil √† la configuration du c√¥t√© du switch."><meta name=application-name content="My cool site"><meta name=apple-mobile-web-app-title content="My cool site"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel=canonical href=https://guy-evans.com/fr/posts/2023-07-11_802-1x-port-authentication-with-aruba-switches/><link rel=prev href=https://guy-evans.com/fr/posts/2023-04-23_a-look-at-caddy-a-simple-and-fast-web-server/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Authentification des ports 802.1x avec des switches ARUBA","inLanguage":"fr","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/guy-evans.com\/fr\/posts\/2023-07-11_802-1x-port-authentication-with-aruba-switches\/"},"genre":"posts","keywords":"802.1X, Radius, Security, Switch, Aruba, Vlan","wordcount":851,"url":"https:\/\/guy-evans.com\/fr\/posts\/2023-07-11_802-1x-port-authentication-with-aruba-switches\/","datePublished":"2023-07-13T14:32:51+00:00","dateModified":"2023-07-13T14:32:51+00:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"Guy Evans"},"description":""}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/fr/ title="Guy Evans">Guy Evans</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/fr/posts/>Postes </a><a class=menu-item href=/fr/about/>~ Whoami </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title="Changer de Th√®me">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="menu-item language" title="Choisir la langue"><i class="fa fa-globe" aria-hidden=true></i>
<select class=language-select id=language-select-desktop onchange="location=this.value"><option value=/posts/2023-07-11_802-1x-port-authentication-with-aruba-switches/>English</option><option value=/fr/posts/2023-07-11_802-1x-port-authentication-with-aruba-switches/ selected>Fran√ßais</option></select></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/fr/ title="Guy Evans">Guy Evans</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/fr/posts/ title>Postes</a><a class=menu-item href=/fr/about/ title>~ Whoami</a><a href=javascript:void(0); class="menu-item theme-switch" title="Changer de Th√®me">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class=menu-item title="Choisir la langue"><i class="fa fa-globe fa-fw" aria-hidden=true></i>
<select class=language-select onchange="location=this.value"><option value=/posts/2023-07-11_802-1x-port-authentication-with-aruba-switches/>English</option><option value=/fr/posts/2023-07-11_802-1x-port-authentication-with-aruba-switches/ selected>Fran√ßais</option></select></a></div></div></header><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contenu</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Authentification des ports 802.1x avec des switches ARUBA</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/fr/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>Guy Evans</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2023-07-13>2023-07-13</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;851 mots&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;4 minutes&nbsp;</div></div><div class=featured-image><img class=lazyload src=/svg/loading.min.svg data-src=/fr/posts/2023-07-11_802-1x-port-authentication-with-aruba-switches/thomas-jensen-ISG-rUel0Uw-unsplash.jpg data-srcset="/fr/posts/2023-07-11_802-1x-port-authentication-with-aruba-switches/thomas-jensen-ISG-rUel0Uw-unsplash.jpg, /fr/posts/2023-07-11_802-1x-port-authentication-with-aruba-switches/thomas-jensen-ISG-rUel0Uw-unsplash.jpg 1.5x, /fr/posts/2023-07-11_802-1x-port-authentication-with-aruba-switches/thomas-jensen-ISG-rUel0Uw-unsplash.jpg 2x" data-sizes=auto alt=/fr/posts/2023-07-11_802-1x-port-authentication-with-aruba-switches/thomas-jensen-ISG-rUel0Uw-unsplash.jpg title=/fr/posts/2023-07-11_802-1x-port-authentication-with-aruba-switches/thomas-jensen-ISG-rUel0Uw-unsplash.jpg width=1080 height=718></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>Contenu</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#8021x---pourquoi->802.1x - Pourquoi ?</a></li><li><a href=#de-quoi-avons-nous-besoin->De quoi avons-nous besoin ?</a></li><li><a href=#commen√ßons-√†-configurer>Commen√ßons √† configurer</a><ul><li><a href=#configuration-du-switch>Configuration du switch</a></li></ul></li></ul></nav></div></div><div class=content id=content><h2 id=8021x---pourquoi->802.1x - Pourquoi ?</h2><p>Dans les entreprises, nous utilisons souvent 802.1x pour s√©curiser l&rsquo;acc√®s aux r√©seaux c√¢bl√©s et sans fil. Pour les r√©seaux c√¢bl√©s, la norme 802.1x nous permet d&rsquo;exiger une authentification au niveau du port sur un switch compatible, ce qui nous permet √©galement d&rsquo;attribuer dynamiquement des VLAN au port et √† l&rsquo;appareil de connexion.</p><p>Imaginez une situation dans laquelle vous disposez d&rsquo;une salle de r√©union publique √©quip√©e de ports Ethernet accessibles et o√π vous souhaitez garantir un acc√®s s√©curis√© √† ces ports. Dans un tel sc√©nario, deux options s&rsquo;offrent √† vous :</p><ol><li><p>La premi√®re option consiste √† d√©sactiver tous les ports inutilis√©s. Bien que cette approche offre un certain niveau de s√©curit√©, elle pr√©sente un inconv√©nient. Que se passe-t-il si quelqu&rsquo;un a besoin d&rsquo;utiliser le port ? Dans ce cas, vous devrez vous connecter manuellement au switch, activer temporairement le port, puis le d√©sactiver √† nouveau une fois qu&rsquo;il n&rsquo;est plus utilis√©. Ce processus peut √™tre assez lourd et faire perdre du temps au personnel informatique.</p></li><li><p>La deuxi√®me option, plus efficace, consiste √† mettre en ≈ìuvre la norme 802.1X. Cette norme offre une solution sup√©rieure en maintenant les ports actifs √† tout moment. Avec la norme 802.1X, lorsqu&rsquo;un appareil de l&rsquo;entreprise est branch√© sur le port, il acc√®de automatiquement au r√©seau de l&rsquo;entreprise sur le VLAN attribu√©. En revanche, si un appareil inconnu est connect√©, il sera affect√© √† un VLAN de votre choix, g√©n√©ralement un r√©seau public avec acc√®s √† l&rsquo;internet uniquement. Cette s√©paration garantit que les appareils non autoris√©s ne peuvent pas acc√©der au r√©seau de l&rsquo;entreprise. L&rsquo;avantage est que vous n&rsquo;avez plus besoin d&rsquo;activer et de d√©sactiver manuellement les ports chaque fois qu&rsquo;un acc√®s est n√©cessaire.</p></li></ol><h2 id=de-quoi-avons-nous-besoin->De quoi avons-nous besoin ?</h2><ul><li>Un serveur RADIUS (√† l&rsquo;IP 192.168.10.2) - nous utilisons Microsoft NPS (je ne d√©taillerai pas la configuration de NPS ici mais je le ferai peut-√™tre dans le futur).</li><li>Un switch g√©r√© - Il peut s&rsquo;agir de n&rsquo;importe quel switch g√©r√© capable de faire de l&rsquo;authentification de port, je fais cela sur un <a href=https://www.arubanetworks.com/products/switches/access/2930f-series/ target=_blank rel="noopener noreffer">ARUBA 2930F</a> (qui est un bon switch d&rsquo;ailleurs, si seulement je pouvais le ramener chez moi üòâ üòâ )</li><li>Quelques VLAN<ul><li>VLAN d&rsquo;entreprise : 10</li><li>VLAN public : 20</li></ul></li><li>Un ordinateur Windows</li></ul><h2 id=commen√ßons-√†-configurer>Commen√ßons √† configurer</h2><h3 id=configuration-du-switch>Configuration du switch</h3><h4 id=configuration-des-vlan>Configuration des VLAN</h4><p>La premi√®re chose √† faire est d&rsquo;ajouter les vlans si ce n&rsquo;est pas d√©j√† fait. J&rsquo;ai tagg√© les vlans sur tous les ports pour des raisons de simplicit√©.</p><pre tabindex=0><code>vlan 10 name VLAN10_Enterprise
vlan 10 tagged all
vlan 20 nom VLAN20_Publique
vlan 20 tagged all
vlan 30 name VLAN30_Telephonie
vlan 30 tagged all
</code></pre><h4 id=serveur-radius-et-authentification>Serveur Radius et authentification</h4><p>Ensuite, nous devons configurer le serveur RADIUS distant (notre serveur NPS) et indiquer au switch la &ldquo;secretkey&rdquo;</p><pre tabindex=0><code>radius-server host 192.168.10.2 key &#34;secretkey&#34;
</code></pre><p>Ensuite, nous configurons EAP-RADIUS, ce qui permet au commutateur de transmettre les paquets d&rsquo;authentification des clients au serveur Radius.</p><pre tabindex=0><code>aaa authentication port-access eap-radius
</code></pre><p>Nous activons ensuite 802.1x sur les ports de notre commutateur, ici nous le faisons sur une s√©rie de ports mais vous pouvez sp√©cifier des ports individuels, ou les s√©parer par une virgule. Nous demandons au switch de placer les clients autoris√©s sur le vlan 10 (auth-vid) et les clients non autoris√©s sur le vlan 20 (unauth-vid).</p><pre tabindex=0><code>aaa aaa port-access authenticator 1-10
aaa aaa port-access authenticator 1-10 unauth-vid 20
aaa aaa port-access authenticator 1-10 auth-vid 10
aaa aaa port-access authenticator active
</code></pre><p>La configuration de notre switch est ainsi termin√©e. Ou bien est-ce le cas ?</p><h4 id=bonus-quen-est-il-des-t√©l√©phones-ip->(Bonus) Qu&rsquo;en est-il des t√©l√©phones IP ?</h4><p>Vous avez peut-√™tre remarqu√© que j&rsquo;ai inclus un vlan pour les t√©l√©phones, car c&rsquo;√©tait une question importante que je me posais lors de mon premier d√©ploiement de 802.1x. Devrai-je ajouter chaque t√©l√©phone √† notre serveur Radius et configurer chaque t√©l√©phone pour l&rsquo;authentification ou utiliser MAB<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>?</p><p>Non ! Au lieu de cela, nous allons faire du vlan un vlan voice avec la commande suivante, ce qui permettra au t√©l√©phone d&rsquo;utiliser LLDP pour r√©cup√©rer le vlan qui lui a √©t√© assign√©, sans avoir besoin de l&rsquo;authentification.</p><pre tabindex=0><code>vlan 30 voice
</code></pre><h4 id=conclusion>Conclusion</h4><p>La norme 802.1X c√¢bl√©e offre une authentification et un contr√¥le d&rsquo;acc√®s au niveau du port, garantissant que seuls les appareils autoris√©s peuvent se connecter au r√©seau. Elle permet l&rsquo;attribution dynamique de VLAN et √©limine la n√©cessit√© d&rsquo;une gestion manuelle des ports, ce qui renforce la s√©curit√© du r√©seau.</p><p>Dans cet article de blog, j&rsquo;ai voulu mettre en √©vidence la configuration c√¥t√© commutateur de 802.1X, en me concentrant sur le processus de configuration. Lorsqu&rsquo;un client non autoris√© est connect√© au port du switch, le syst√®me l&rsquo;affecte automatiquement au VLAN 10. De m√™me, lorsqu&rsquo;un t√©l√©phone est branch√©, il rejoint le VLAN 30 sans aucune configuration suppl√©mentaire. En ce qui concerne les clients autoris√©s, ils sont automatiquement plac√©s dans le VLAN 10.</p><p>En r√©sum√©, la norme 802.1X c√¢bl√©e offre une authentification et un contr√¥le d&rsquo;acc√®s au niveau du port, garantissant que seuls les appareils autoris√©s peuvent se connecter au r√©seau. Elle permet l&rsquo;attribution dynamique de VLAN et √©limine la n√©cessit√© d&rsquo;une gestion manuelle des ports, ce qui renforce la s√©curit√© du r√©seau.</p><hr><p><em>Photo par Thomas Jensen @ <a href="https://unsplash.com/fr/photos/ISG-rUel0Uw?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" target=_blank rel="noopener noreffer">Unsplash.com</a></em></p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>MAC Authentication Bypass - <a href=https://networklessons.com/cisco/ccie-routing-switching-written/mac-authentication-bypass-mab target=_blank rel="noopener noreffer">MAB - networklessons.com</a>&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Mis √† jour le 2023-07-13</span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Partager sur Twitter" data-sharer=twitter data-url=https://guy-evans.com/fr/posts/2023-07-11_802-1x-port-authentication-with-aruba-switches/ data-title="Authentification des ports 802.1x avec des switches ARUBA" data-via=_guyevans data-hashtags=802.1X,Radius,Security,Switch,Aruba,Vlan><i class="fab fa-twitter fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Partager sur Facebook" data-sharer=facebook data-url=https://guy-evans.com/fr/posts/2023-07-11_802-1x-port-authentication-with-aruba-switches/ data-hashtag=802.1X><i class="fab fa-facebook-square fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Partager sur Hacker News" data-sharer=hackernews data-url=https://guy-evans.com/fr/posts/2023-07-11_802-1x-port-authentication-with-aruba-switches/ data-title="Authentification des ports 802.1x avec des switches ARUBA"><i class="fab fa-hacker-news fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Partager sur Line" data-sharer=line data-url=https://guy-evans.com/fr/posts/2023-07-11_802-1x-port-authentication-with-aruba-switches/ data-title="Authentification des ports 802.1x avec des switches ARUBA"><i data-svg-src=https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/line.svg aria-hidden=true></i></a><a href=javascript:void(0); title="Partager sur ÂæÆÂçö" data-sharer=weibo data-url=https://guy-evans.com/fr/posts/2023-07-11_802-1x-port-authentication-with-aruba-switches/ data-title="Authentification des ports 802.1x avec des switches ARUBA" data-image=thomas-jensen-ISG-rUel0Uw-unsplash.jpg><i class="fab fa-weibo fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/fr/tags/802.1x/>802.1X</a>,&nbsp;<a href=/fr/tags/radius/>Radius</a>,&nbsp;<a href=/fr/tags/security/>Security</a>,&nbsp;<a href=/fr/tags/switch/>Switch</a>,&nbsp;<a href=/fr/tags/aruba/>Aruba</a>,&nbsp;<a href=/fr/tags/vlan/>Vlan</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Retour</a></span>&nbsp;|&nbsp;<span><a href=/fr/>Accueil</a></span></section></div><div class=post-nav><a href=/fr/posts/2023-04-23_a-look-at-caddy-a-simple-and-fast-web-server/ class=prev rel=prev title="D√©couverte de Caddy - un serveur web simple et rapide"><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>D√©couverte de Caddy - un serveur web simple et rapide</a></div></div><div id=comments><script data-isso=https://isso.evans.fr/ data-isso-id=thread-id data-isso-css=true data-isso-lang data-isso-reply-to-self=true data-isso-require-author=true data-isso-require-email=false data-isso-avatar=true data-isso-avatar-bg src=https://isso.evans.fr/js/embed.min.js></script><noscript>Please enable JavaScript to view the comments powered by <a href=https://posativ.org/isso/>Isso</a>.</noscript><div><section id=isso-thread></section></div></section></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Propuls√© par <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.118.2">Hugo</a> | Th√®me - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden=true></i> LoveIt</a></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2022 - 2023</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/fr/ target=_blank>Guy Evans</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Retour en Haut"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title="Afficher les Commentaires"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copier dans le presse-papiers",maxShownLines:50},comment:{}}</script><script type=text/javascript src=/js/theme.min.js></script>
<script>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){e="//matomo.evans.fr/",_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var e,n=document,t=n.createElement("script"),s=n.getElementsByTagName("script")[0];t.async=!0,t.src=e+"matomo.js",s.parentNode.insertBefore(t,s)}()</script></body></html>