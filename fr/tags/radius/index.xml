<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>Radius - Balise - Guy Evans</title><link>https://guy-evans.com/fr/tags/radius/</link><description>Radius - Balise - Guy Evans</description><generator>Hugo -- gohugo.io</generator><language>fr</language><managingEditor>web@evans.fr (Guy Evans)</managingEditor><webMaster>web@evans.fr (Guy Evans)</webMaster><lastBuildDate>Thu, 13 Jul 2023 14:32:51 +0000</lastBuildDate><atom:link href="https://guy-evans.com/fr/tags/radius/" rel="self" type="application/rss+xml"/><item><title>Authentification des ports 802.1x avec des switches ARUBA</title><link>https://guy-evans.com/fr/posts/2023-07-11_802-1x-port-authentication-with-aruba-switches/</link><pubDate>Thu, 13 Jul 2023 14:32:51 +0000</pubDate><author>Guy Evans</author><guid>https://guy-evans.com/fr/posts/2023-07-11_802-1x-port-authentication-with-aruba-switches/</guid><description><![CDATA[<div class="featured-image">
                <img src="/thomas-jensen-ISG-rUel0Uw-unsplash.jpg" referrerpolicy="no-referrer">
            </div><h2 id="8021x---pourquoi-">802.1x - Pourquoi ?</h2>
<p>Dans les entreprises, nous utilisons souvent 802.1x pour s√©curiser l&rsquo;acc√®s aux r√©seaux c√¢bl√©s et sans fil. Pour les r√©seaux c√¢bl√©s, la norme 802.1x nous permet d&rsquo;exiger une authentification au niveau du port sur un switch compatible, ce qui nous permet √©galement d&rsquo;attribuer dynamiquement des VLAN au port et √† l&rsquo;appareil de connexion.</p>
<p>Imaginez une situation dans laquelle vous disposez d&rsquo;une salle de r√©union publique √©quip√©e de ports Ethernet accessibles et o√π vous souhaitez garantir un acc√®s s√©curis√© √† ces ports. Dans un tel sc√©nario, deux options s&rsquo;offrent √† vous :</p>
<ol>
<li>
<p>La premi√®re option consiste √† d√©sactiver tous les ports inutilis√©s. Bien que cette approche offre un certain niveau de s√©curit√©, elle pr√©sente un inconv√©nient. Que se passe-t-il si quelqu&rsquo;un a besoin d&rsquo;utiliser le port ? Dans ce cas, vous devrez vous connecter manuellement au switch, activer temporairement le port, puis le d√©sactiver √† nouveau une fois qu&rsquo;il n&rsquo;est plus utilis√©. Ce processus peut √™tre assez lourd et faire perdre du temps au personnel informatique.</p>
</li>
<li>
<p>La deuxi√®me option, plus efficace, consiste √† mettre en ≈ìuvre la norme 802.1X. Cette norme offre une solution sup√©rieure en maintenant les ports actifs √† tout moment. Avec la norme 802.1X, lorsqu&rsquo;un appareil de l&rsquo;entreprise est branch√© sur le port, il acc√®de automatiquement au r√©seau de l&rsquo;entreprise sur le VLAN attribu√©. En revanche, si un appareil inconnu est connect√©, il sera affect√© √† un VLAN de votre choix, g√©n√©ralement un r√©seau public avec acc√®s √† l&rsquo;internet uniquement. Cette s√©paration garantit que les appareils non autoris√©s ne peuvent pas acc√©der au r√©seau de l&rsquo;entreprise. L&rsquo;avantage est que vous n&rsquo;avez plus besoin d&rsquo;activer et de d√©sactiver manuellement les ports chaque fois qu&rsquo;un acc√®s est n√©cessaire.</p>
</li>
</ol>
<h2 id="de-quoi-avons-nous-besoin-">De quoi avons-nous besoin ?</h2>
<ul>
<li>Un serveur RADIUS (√† l&rsquo;IP 192.168.10.2) - nous utilisons Microsoft NPS (je ne d√©taillerai pas la configuration de NPS ici mais je le ferai peut-√™tre dans le futur).</li>
<li>Un switch g√©r√© - Il peut s&rsquo;agir de n&rsquo;importe quel switch g√©r√© capable de faire de l&rsquo;authentification de port, je fais cela sur un <a href="https://www.arubanetworks.com/products/switches/access/2930f-series/" target="_blank" rel="noopener noreffer ">ARUBA 2930F</a> (qui est un bon switch d&rsquo;ailleurs, si seulement je pouvais le ramener chez moi üòâ üòâ )</li>
<li>Quelques VLAN
<ul>
<li>VLAN d&rsquo;entreprise : 10</li>
<li>VLAN public : 20</li>
</ul>
</li>
<li>Un ordinateur Windows</li>
</ul>
<h2 id="commen√ßons-√†-configurer">Commen√ßons √† configurer</h2>
<h3 id="configuration-du-switch">Configuration du switch</h3>
<h4 id="configuration-des-vlan">Configuration des VLAN</h4>
<p>La premi√®re chose √† faire est d&rsquo;ajouter les vlans si ce n&rsquo;est pas d√©j√† fait. J&rsquo;ai tagg√© les vlans sur tous les ports pour des raisons de simplicit√©.</p>
<pre tabindex="0"><code>vlan 10 name VLAN10_Enterprise
vlan 10 tagged all
vlan 20 nom VLAN20_Publique
vlan 20 tagged all
vlan 30 name VLAN30_Telephonie
vlan 30 tagged all
</code></pre><h4 id="serveur-radius-et-authentification">Serveur Radius et authentification</h4>
<p>Ensuite, nous devons configurer le serveur RADIUS distant (notre serveur NPS) et indiquer au switch la &ldquo;secretkey&rdquo;</p>
<pre tabindex="0"><code>radius-server host 192.168.10.2 key &#34;secretkey&#34;
</code></pre><p>Ensuite, nous configurons EAP-RADIUS, ce qui permet au commutateur de transmettre les paquets d&rsquo;authentification des clients au serveur Radius.</p>
<pre tabindex="0"><code>aaa authentication port-access eap-radius
</code></pre><p>Nous activons ensuite 802.1x sur les ports de notre commutateur, ici nous le faisons sur une s√©rie de ports mais vous pouvez sp√©cifier des ports individuels, ou les s√©parer par une virgule. Nous demandons au switch de placer les clients autoris√©s sur le vlan 10 (auth-vid) et les clients non autoris√©s sur le vlan 20 (unauth-vid).</p>
<pre tabindex="0"><code>aaa port-access authenticator 1-10
aaa port-access authenticator 1-10 unauth-vid 20
aaa port-access authenticator 1-10 auth-vid 10
aaa port-access authenticator active
</code></pre><p>La configuration de notre switch est ainsi termin√©e. Ou bien est-ce le cas ?</p>
<h4 id="bonus-quen-est-il-des-t√©l√©phones-ip-">(Bonus) Qu&rsquo;en est-il des t√©l√©phones IP ?</h4>
<p>Vous avez peut-√™tre remarqu√© que j&rsquo;ai inclus un vlan pour les t√©l√©phones, car c&rsquo;√©tait une question importante que je me posais lors de mon premier d√©ploiement de 802.1x. Devrai-je ajouter chaque t√©l√©phone √† notre serveur Radius et configurer chaque t√©l√©phone pour l&rsquo;authentification ou utiliser MAB<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>?</p>
<p>Non ! Au lieu de cela, nous allons faire du vlan un vlan voice avec la commande suivante, ce qui permettra au t√©l√©phone d&rsquo;utiliser LLDP pour r√©cup√©rer le vlan qui lui a √©t√© assign√©, sans avoir besoin de l&rsquo;authentification.</p>
<pre tabindex="0"><code>vlan 30 voice
</code></pre><h4 id="conclusion">Conclusion</h4>
<p>La norme 802.1X c√¢bl√©e offre une authentification et un contr√¥le d&rsquo;acc√®s au niveau du port, garantissant que seuls les appareils autoris√©s peuvent se connecter au r√©seau. Elle permet l&rsquo;attribution dynamique de VLAN et √©limine la n√©cessit√© d&rsquo;une gestion manuelle des ports, ce qui renforce la s√©curit√© du r√©seau.</p>
<p>Dans cet article de blog, j&rsquo;ai voulu mettre en √©vidence la configuration c√¥t√© commutateur de 802.1X, en me concentrant sur le processus de configuration. Lorsqu&rsquo;un client non autoris√© est connect√© au port du switch, le syst√®me l&rsquo;affecte automatiquement au VLAN 10. De m√™me, lorsqu&rsquo;un t√©l√©phone est branch√©, il rejoint le VLAN 30 sans aucune configuration suppl√©mentaire. En ce qui concerne les clients autoris√©s, ils sont automatiquement plac√©s dans le VLAN 10.</p>
<p>En r√©sum√©, la norme 802.1X c√¢bl√©e offre une authentification et un contr√¥le d&rsquo;acc√®s au niveau du port, garantissant que seuls les appareils autoris√©s peuvent se connecter au r√©seau. Elle permet l&rsquo;attribution dynamique de VLAN et √©limine la n√©cessit√© d&rsquo;une gestion manuelle des ports, ce qui renforce la s√©curit√© du r√©seau.</p>
<hr>
<p><em>Photo par Thomas Jensen @ <a href="https://unsplash.com/fr/photos/ISG-rUel0Uw?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" target="_blank" rel="noopener noreffer ">Unsplash.com</a></em></p>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>MAC Authentication Bypass - <a href="https://networklessons.com/cisco/ccie-routing-switching-written/mac-authentication-bypass-mab" target="_blank" rel="noopener noreffer ">MAB - networklessons.com</a>&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>
]]></description></item></channel></rss>