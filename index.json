[{"categories":null,"content":" Too many bagsI am a fan of travelling, although I haven’t been able to travel much since the birth of the little one but I digress. Back to Onebag travel: Many of us have dealt with the hassle of managing multiple, often large bags while travelling. How often have you arrived at a destination before being able to check in to your accommodation? In such cases, I usually start exploring the destination, but the challenge is dealing with large bags. Ideally, you can either A) leave your bags at your accommodation, B) find a bag storage location, or C) wait until you can check in. ","date":"2024-03-02","objectID":"/posts/2023-12-10_onebag-for-travel-whats-in-my-2023-travel-bag/:1:0","series":null,"tags":["travel","bag","edc","onebag"],"title":"Onebag for Travel - Whats in my 2023/2024 travel bag","uri":"/posts/2023-12-10_onebag-for-travel-whats-in-my-2023-travel-bag/#too-many-bags"},{"categories":null,"content":" Onebag Travel?But what if I told you there is another way? Well there is … get rid of all but one bag. Onebag travel, also known as one-bagging, is a minimalist approach to travel that involves packing and travelling with only a single piece of luggage, typically a carry-on-sized backpack or suitcase. The goal is to simplify the travel experience by minimizing the amount of belongings one carries, focusing on essential items, and avoiding the need for multiple bags or checked luggage. ","date":"2024-03-02","objectID":"/posts/2023-12-10_onebag-for-travel-whats-in-my-2023-travel-bag/:2:0","series":null,"tags":["travel","bag","edc","onebag"],"title":"Onebag for Travel - Whats in my 2023/2024 travel bag","uri":"/posts/2023-12-10_onebag-for-travel-whats-in-my-2023-travel-bag/#onebag-travel"},{"categories":null,"content":" Why Onebag Travel?Now we know what Onebag travel is, here a just a few upsides: Cost Savings: Many airlines charge fees for checked baggage. By adhering to carry-on limits, onebag travelers can avoid these fees, contributing to cost savings. Time Savings: Without the need to check or retrieve multiple bags, onebag travelers can move through airports more quickly, potentially reducing travel time. Flexibility: Onebag travel encourages a mindset of simplicity. Travelers learn to prioritize essentials, making it easier to adapt to different situations and environments. ","date":"2024-03-02","objectID":"/posts/2023-12-10_onebag-for-travel-whats-in-my-2023-travel-bag/:2:1","series":null,"tags":["travel","bag","edc","onebag"],"title":"Onebag for Travel - Whats in my 2023/2024 travel bag","uri":"/posts/2023-12-10_onebag-for-travel-whats-in-my-2023-travel-bag/#why-onebag-travel"},{"categories":null,"content":" The BagOkay so now we know about onebag travel and some of its advantages, we need to choose a bag. I’ll spare you most of my research as everyone has different criteria. Here are mine: The bag: be cheap - no more than 100 Euros MUST fit in most airline carry-on requirements fit a 4 days worth of clothes minimum carry a laptop if needed be comfy ","date":"2024-03-02","objectID":"/posts/2023-12-10_onebag-for-travel-whats-in-my-2023-travel-bag/:3:0","series":null,"tags":["travel","bag","edc","onebag"],"title":"Onebag for Travel - Whats in my 2023/2024 travel bag","uri":"/posts/2023-12-10_onebag-for-travel-whats-in-my-2023-travel-bag/#the-bag"},{"categories":null,"content":" So research time I guess? I started my research on reddit (as I usually do) and quickly stumbled on a goldmine; r/onebag, a reddit community dedicated to onebagging. After hours of browsing a bag caught my eye - The Decathlon NH500 Escape 23L Rolltop which checked most of my requirements: Cheap - 49 Euros in Store Fits plenty Can carry a laptop and tablet Roll-top - Can be expanded from 23L to something like 30L Bonus: designed by Decathlon, a french company 🇫🇷 and available in their stores After some browsing I actually bought mine on Vinted for 35 Euros so a win win I guess. ","date":"2024-03-02","objectID":"/posts/2023-12-10_onebag-for-travel-whats-in-my-2023-travel-bag/:3:1","series":null,"tags":["travel","bag","edc","onebag"],"title":"Onebag for Travel - Whats in my 2023/2024 travel bag","uri":"/posts/2023-12-10_onebag-for-travel-whats-in-my-2023-travel-bag/#so-research-time-i-guess"},{"categories":null,"content":" The Contents Now the fun part what do we put in the bag? Here is my base list. I won’t go into detail for each item but I will include some thoughts for some items. ","date":"2024-03-02","objectID":"/posts/2023-12-10_onebag-for-travel-whats-in-my-2023-travel-bag/:4:0","series":null,"tags":["travel","bag","edc","onebag"],"title":"Onebag for Travel - Whats in my 2023/2024 travel bag","uri":"/posts/2023-12-10_onebag-for-travel-whats-in-my-2023-travel-bag/#the-contents"},{"categories":null,"content":" Packing cubes I usually use 2 packing cubes: 1 Peak Design Medium for clothes 1 Small cheap Ono cube for underwear and socks. ","date":"2024-03-02","objectID":"/posts/2023-12-10_onebag-for-travel-whats-in-my-2023-travel-bag/:4:1","series":null,"tags":["travel","bag","edc","onebag"],"title":"Onebag for Travel - Whats in my 2023/2024 travel bag","uri":"/posts/2023-12-10_onebag-for-travel-whats-in-my-2023-travel-bag/#packing-cubes"},{"categories":null,"content":" Clothes:Here is my clothes list, usually good for 4 days and autumn temperatures. Could also work for colder temps. 2 Polo shirts, 1 blue and 1 white 2 Normal Cotton t-shirts (1 worn for travel) 2 Uniqlo Airisism Cotton t-shirts - these are great for travel as they fold up small 1 Uniqlo Beige Jeans - these easily can pass as chinos in a pinch 1 Uniqlo Ultra Stretch Jeans (Worn) - these are some of the comfiest jeans for travel. Plenty of underwear - I had two extra Socks: 1 pair Darn Tough Socks (Merino) 1 pair Smartwool (Merino) 2 pairs of cheap socks for backup The key here as I’ve learnt recently is merino wool. Merino wool is lightweight, durable, odor resistant and antimicrobial and breathable. Smart looking Primark Jumper Zip-Up Hoody (Worn) Running shorts that double as swim shorts (not shown) Patagonia Nano-Puff Jacket Arc’teryx baseball cap - great for rain and sunny weather Adidas Advantage shoes - once broken in they are so comfy ","date":"2024-03-02","objectID":"/posts/2023-12-10_onebag-for-travel-whats-in-my-2023-travel-bag/:4:2","series":null,"tags":["travel","bag","edc","onebag"],"title":"Onebag for Travel - Whats in my 2023/2024 travel bag","uri":"/posts/2023-12-10_onebag-for-travel-whats-in-my-2023-travel-bag/#clothes"},{"categories":null,"content":" Electronics: Anker PowerCore 20 000 mAh battery - way too big but a nice to have Anker 40W USB C Charger Lightning to USB C Apple Watch Cable USB C cable Apple airpods pros Spare wired headphones + lightning to headphone jack 4G wifi router - bought for friends as I get a lot of data in the EU Amazon Kindle Paperwhite Flashlight: D4v2 - always have a decent flash light … don’t ask 😉 ","date":"2024-03-02","objectID":"/posts/2023-12-10_onebag-for-travel-whats-in-my-2023-travel-bag/:4:3","series":null,"tags":["travel","bag","edc","onebag"],"title":"Onebag for Travel - Whats in my 2023/2024 travel bag","uri":"/posts/2023-12-10_onebag-for-travel-whats-in-my-2023-travel-bag/#electronics"},{"categories":null,"content":" Hygiene: Toothbrush + bought toothpaste on arrival Shower-gel Deodorant Contact lens solution and case Disposable razor Paracetamol Ear-plugs ","date":"2024-03-02","objectID":"/posts/2023-12-10_onebag-for-travel-whats-in-my-2023-travel-bag/:4:4","series":null,"tags":["travel","bag","edc","onebag"],"title":"Onebag for Travel - Whats in my 2023/2024 travel bag","uri":"/posts/2023-12-10_onebag-for-travel-whats-in-my-2023-travel-bag/#hygiene"},{"categories":null,"content":" Misc: Sunglasses Glasses - for when I don’t wear contact lenses. Do you travel with one or more bags? What’s in your travel bag(s)? Note: some links may be affiliate links. As an Amazon Associate I my earn a small commission from qualifying purchases at no extra cost to the buyer. ","date":"2024-03-02","objectID":"/posts/2023-12-10_onebag-for-travel-whats-in-my-2023-travel-bag/:4:5","series":null,"tags":["travel","bag","edc","onebag"],"title":"Onebag for Travel - Whats in my 2023/2024 travel bag","uri":"/posts/2023-12-10_onebag-for-travel-whats-in-my-2023-travel-bag/#misc"},{"categories":null,"content":"I saw this idea pop-up on BrainBaking and as I’m always interested in seeing what tools and apps other people are using I thought I should join in. So here is a selection of my favourite apps I use on a daily basis. 🧑‍💻 Browser: Firefox \u0026 Safari on iOS - (Why you should dump Chrome) 📧 Email: Gmail - Google Workspace \u0026 Mailcow (Personal) - Outlook - Office365 (Work) ✅ Tasks: Obsidian - Planner/Projects - Notebook/PostIt Notes and a nice Rotring 600 📰 RSS: Nextcloud News \u0026 NextNews iOS App ☁️ Cloud Storage: selfhosted Nextcloud (Personal) - OneDrive (Work) 🖼️ Photo Editing: Adobe Photoshop 📆 Calendar: Apple Calendar with Google Calendar (Personal) \u0026 Outlook Calendar (Work) 🎙️ Podcasts: Overcast 🎵 Music: Spotify 🧑‍🤝‍🧑 Social: X - Instagram - Reddit 📖 Reading: Amazon Kindle 🔒 Passwords: VaultWarden (Selfhosted BitWarden) 📓 Notes: Markdown in VSCode or Obsidian \u0026 Notebook \u0026 Pen 📽️ Presentations: Marp \u0026 VSCode 📝 Text Editor: Visual Code \u0026 Markdown 💻 Terminal: iTerm (MacOS) - Terminal with WSL2 (Windows) - both with Oh My Zsh 🏠 Home Automatation: Home Assistant Got a favorite app you use everyday? Let us know! Photo by SCREEN POST @ Pexels.com Note: some links may be affiliate links. As an Amazon Associate I my earn a small commission from qualifying purchases at no extra cost to the buyer. ","date":"2023-11-27","objectID":"/posts/2023-11-26_what-apps-i-use-in-2023/:0:0","series":null,"tags":["apps","lists"],"title":"What Apps I use in 2023","uri":"/posts/2023-11-26_what-apps-i-use-in-2023/#"},{"categories":null,"content":" 802.1x - Why?In the enterprise, we often use 802.1x to secure access to wired and wireless networks. For wired networks 802.1x allows us to require authentication at the port level on a supported switch which also allows us to dynamically assign VLANs to the port or connecting device. Imagine a situation where you have a public meeting room equipped with accessible Ethernet ports, and you want to ensure secure access to those ports. In such a scenario, you have two options to consider: The first option is to disable any unused ports. While this approach provides some level of security, it comes with a drawback. What if someone needs to use the port? In that case, you would have to manually log in to the switch, enable the port temporarily, and then disable it again once it’s no longer in use. This process can be quite cumbersome and timewaster for IT staff. The second and more efficient option is to implement 802.1X. This standard offers a superior solution by keeping the ports active at all times. With 802.1X, when a company device is plugged into the port, it will automatically gain access to the company network on the assigned VLAN. However, if an unknown device is connected, it will be assigned to a VLAN of your choice, typically a public network with only internet access. This segregation ensures that unauthorized devices cannot access the company network. The best part is that you no longer need to manually enable and disable ports whenever access is required. ","date":"2023-07-13","objectID":"/posts/2023-07-11_802-1x-port-authentication-with-aruba-switches/:1:0","series":null,"tags":["802.1X","Radius","Security","Switch","Aruba","Vlan"],"title":"802.1x Port Authentication with ARUBA switches","uri":"/posts/2023-07-11_802-1x-port-authentication-with-aruba-switches/#8021x---why"},{"categories":null,"content":" What do we need? A RADIUS server (at IP 192.168.10.2) - we are using Microsoft NPS (I won’t be detailing the configuration of NPS here but may do so in the futur) A Managed Switch - Could be any any managed switch which can do port authentication, I’m doing this on an ARUBA 2930F (which is a nice switch by the way, if only it could make it’s way home from work 😉 😉 ) Some VLANs Company VLAN: 10 Public VLAN: 20 A Windows computer ","date":"2023-07-13","objectID":"/posts/2023-07-11_802-1x-port-authentication-with-aruba-switches/:2:0","series":null,"tags":["802.1X","Radius","Security","Switch","Aruba","Vlan"],"title":"802.1x Port Authentication with ARUBA switches","uri":"/posts/2023-07-11_802-1x-port-authentication-with-aruba-switches/#what-do-we-need"},{"categories":null,"content":" Let’s get configing","date":"2023-07-13","objectID":"/posts/2023-07-11_802-1x-port-authentication-with-aruba-switches/:3:0","series":null,"tags":["802.1X","Radius","Security","Switch","Aruba","Vlan"],"title":"802.1x Port Authentication with ARUBA switches","uri":"/posts/2023-07-11_802-1x-port-authentication-with-aruba-switches/#lets-get-configing"},{"categories":null,"content":" Switch Configuration VLAN SetupFirst thing we need to do is add the vlans if not already done. I’ve tagged the vlans on all the ports for simplicity sake. text vlan 10 name VLAN10_Company vlan 10 tagged all vlan 20 name VLAN20_Public vlan 20 tagged all vlan 30 name VLAN30_Phones vlan 30 tagged all Radius Server and AuthenticationNext we need to configure the remote RADIUS server (our NPS server) and tell the switch the ‘secretkey’ text radius-server host 192.168.10.2 key \"secretkey\" Then we configure EAP-RADIUS, this enables the switch to forward the authentication packets from the clients to the Radius server. aaa authentication port-access eap-radius We then enable 802.1x on our switch ports, here we are doing it on a a range of ports but you can specify individual ports, or separate them with a comma. We tell the switch to put autorised clients on vlan 10 (auth-vid) and non autorised clients on vlan 20 (unauth-vid) text aaa port-access authenticator 1-10 aaa port-access authenticator 1-10 unauth-vid 20 aaa port-access authenticator 1-10 auth-vid 10 aaa port-access authenticator active With that our switch configuration is done. Or is it? (Bonus) What about IP Phones?You may have noticed I included a vlan for phones, as this was a huge question I had on my first roll out of 802.1x. Will I need to add each phone to our Radius server and configure each phone for the authentication or use MAB1? No! Instead we will make the vlan a voice vlan with the following command which will allow the phone to use LLDP to fetch its assigned vlan bypassing its need for the authentication. text vlan 30 voice ConclusionWired 802.1X offers port-level authentication and access control, ensuring only authorized devices can connect to the network. It enables dynamic VLAN assignment and eliminates the need for manual port management, enhancing network security. In this blog post, I wanted to highlight the switch-side setup for 802.1X, focusing on the configuration process. When an unauthorized client is connected to the switch port, the system automatically assigns it to VLAN 10. Similarly, when a phone is plugged in, it seamlessly joins VLAN 30 without any additional setup. Moreover, authorized clients are automatically placed in VLAN 10. In summary, wired 802.1X offers port-level authentication and access control, ensuring only authorized devices can connect to the network. It enables dynamic VLAN assignment and eliminates the need for manual port management, enhancing network security. Photo by Thomas Jensen @ Unsplash.com MAC Authentication Bypass - MAB - networklessons.com ↩︎ ","date":"2023-07-13","objectID":"/posts/2023-07-11_802-1x-port-authentication-with-aruba-switches/:3:1","series":null,"tags":["802.1X","Radius","Security","Switch","Aruba","Vlan"],"title":"802.1x Port Authentication with ARUBA switches","uri":"/posts/2023-07-11_802-1x-port-authentication-with-aruba-switches/#switch-configuration"},{"categories":null,"content":" Switch Configuration VLAN SetupFirst thing we need to do is add the vlans if not already done. I’ve tagged the vlans on all the ports for simplicity sake. text vlan 10 name VLAN10_Company vlan 10 tagged all vlan 20 name VLAN20_Public vlan 20 tagged all vlan 30 name VLAN30_Phones vlan 30 tagged all Radius Server and AuthenticationNext we need to configure the remote RADIUS server (our NPS server) and tell the switch the ‘secretkey’ text radius-server host 192.168.10.2 key \"secretkey\" Then we configure EAP-RADIUS, this enables the switch to forward the authentication packets from the clients to the Radius server. aaa authentication port-access eap-radius We then enable 802.1x on our switch ports, here we are doing it on a a range of ports but you can specify individual ports, or separate them with a comma. We tell the switch to put autorised clients on vlan 10 (auth-vid) and non autorised clients on vlan 20 (unauth-vid) text aaa port-access authenticator 1-10 aaa port-access authenticator 1-10 unauth-vid 20 aaa port-access authenticator 1-10 auth-vid 10 aaa port-access authenticator active With that our switch configuration is done. Or is it? (Bonus) What about IP Phones?You may have noticed I included a vlan for phones, as this was a huge question I had on my first roll out of 802.1x. Will I need to add each phone to our Radius server and configure each phone for the authentication or use MAB1? No! Instead we will make the vlan a voice vlan with the following command which will allow the phone to use LLDP to fetch its assigned vlan bypassing its need for the authentication. text vlan 30 voice ConclusionWired 802.1X offers port-level authentication and access control, ensuring only authorized devices can connect to the network. It enables dynamic VLAN assignment and eliminates the need for manual port management, enhancing network security. In this blog post, I wanted to highlight the switch-side setup for 802.1X, focusing on the configuration process. When an unauthorized client is connected to the switch port, the system automatically assigns it to VLAN 10. Similarly, when a phone is plugged in, it seamlessly joins VLAN 30 without any additional setup. Moreover, authorized clients are automatically placed in VLAN 10. In summary, wired 802.1X offers port-level authentication and access control, ensuring only authorized devices can connect to the network. It enables dynamic VLAN assignment and eliminates the need for manual port management, enhancing network security. Photo by Thomas Jensen @ Unsplash.com MAC Authentication Bypass - MAB - networklessons.com ↩︎ ","date":"2023-07-13","objectID":"/posts/2023-07-11_802-1x-port-authentication-with-aruba-switches/:3:1","series":null,"tags":["802.1X","Radius","Security","Switch","Aruba","Vlan"],"title":"802.1x Port Authentication with ARUBA switches","uri":"/posts/2023-07-11_802-1x-port-authentication-with-aruba-switches/#vlan-setup"},{"categories":null,"content":" Switch Configuration VLAN SetupFirst thing we need to do is add the vlans if not already done. I’ve tagged the vlans on all the ports for simplicity sake. text vlan 10 name VLAN10_Company vlan 10 tagged all vlan 20 name VLAN20_Public vlan 20 tagged all vlan 30 name VLAN30_Phones vlan 30 tagged all Radius Server and AuthenticationNext we need to configure the remote RADIUS server (our NPS server) and tell the switch the ‘secretkey’ text radius-server host 192.168.10.2 key \"secretkey\" Then we configure EAP-RADIUS, this enables the switch to forward the authentication packets from the clients to the Radius server. aaa authentication port-access eap-radius We then enable 802.1x on our switch ports, here we are doing it on a a range of ports but you can specify individual ports, or separate them with a comma. We tell the switch to put autorised clients on vlan 10 (auth-vid) and non autorised clients on vlan 20 (unauth-vid) text aaa port-access authenticator 1-10 aaa port-access authenticator 1-10 unauth-vid 20 aaa port-access authenticator 1-10 auth-vid 10 aaa port-access authenticator active With that our switch configuration is done. Or is it? (Bonus) What about IP Phones?You may have noticed I included a vlan for phones, as this was a huge question I had on my first roll out of 802.1x. Will I need to add each phone to our Radius server and configure each phone for the authentication or use MAB1? No! Instead we will make the vlan a voice vlan with the following command which will allow the phone to use LLDP to fetch its assigned vlan bypassing its need for the authentication. text vlan 30 voice ConclusionWired 802.1X offers port-level authentication and access control, ensuring only authorized devices can connect to the network. It enables dynamic VLAN assignment and eliminates the need for manual port management, enhancing network security. In this blog post, I wanted to highlight the switch-side setup for 802.1X, focusing on the configuration process. When an unauthorized client is connected to the switch port, the system automatically assigns it to VLAN 10. Similarly, when a phone is plugged in, it seamlessly joins VLAN 30 without any additional setup. Moreover, authorized clients are automatically placed in VLAN 10. In summary, wired 802.1X offers port-level authentication and access control, ensuring only authorized devices can connect to the network. It enables dynamic VLAN assignment and eliminates the need for manual port management, enhancing network security. Photo by Thomas Jensen @ Unsplash.com MAC Authentication Bypass - MAB - networklessons.com ↩︎ ","date":"2023-07-13","objectID":"/posts/2023-07-11_802-1x-port-authentication-with-aruba-switches/:3:1","series":null,"tags":["802.1X","Radius","Security","Switch","Aruba","Vlan"],"title":"802.1x Port Authentication with ARUBA switches","uri":"/posts/2023-07-11_802-1x-port-authentication-with-aruba-switches/#radius-server-and-authentication"},{"categories":null,"content":" Switch Configuration VLAN SetupFirst thing we need to do is add the vlans if not already done. I’ve tagged the vlans on all the ports for simplicity sake. text vlan 10 name VLAN10_Company vlan 10 tagged all vlan 20 name VLAN20_Public vlan 20 tagged all vlan 30 name VLAN30_Phones vlan 30 tagged all Radius Server and AuthenticationNext we need to configure the remote RADIUS server (our NPS server) and tell the switch the ‘secretkey’ text radius-server host 192.168.10.2 key \"secretkey\" Then we configure EAP-RADIUS, this enables the switch to forward the authentication packets from the clients to the Radius server. aaa authentication port-access eap-radius We then enable 802.1x on our switch ports, here we are doing it on a a range of ports but you can specify individual ports, or separate them with a comma. We tell the switch to put autorised clients on vlan 10 (auth-vid) and non autorised clients on vlan 20 (unauth-vid) text aaa port-access authenticator 1-10 aaa port-access authenticator 1-10 unauth-vid 20 aaa port-access authenticator 1-10 auth-vid 10 aaa port-access authenticator active With that our switch configuration is done. Or is it? (Bonus) What about IP Phones?You may have noticed I included a vlan for phones, as this was a huge question I had on my first roll out of 802.1x. Will I need to add each phone to our Radius server and configure each phone for the authentication or use MAB1? No! Instead we will make the vlan a voice vlan with the following command which will allow the phone to use LLDP to fetch its assigned vlan bypassing its need for the authentication. text vlan 30 voice ConclusionWired 802.1X offers port-level authentication and access control, ensuring only authorized devices can connect to the network. It enables dynamic VLAN assignment and eliminates the need for manual port management, enhancing network security. In this blog post, I wanted to highlight the switch-side setup for 802.1X, focusing on the configuration process. When an unauthorized client is connected to the switch port, the system automatically assigns it to VLAN 10. Similarly, when a phone is plugged in, it seamlessly joins VLAN 30 without any additional setup. Moreover, authorized clients are automatically placed in VLAN 10. In summary, wired 802.1X offers port-level authentication and access control, ensuring only authorized devices can connect to the network. It enables dynamic VLAN assignment and eliminates the need for manual port management, enhancing network security. Photo by Thomas Jensen @ Unsplash.com MAC Authentication Bypass - MAB - networklessons.com ↩︎ ","date":"2023-07-13","objectID":"/posts/2023-07-11_802-1x-port-authentication-with-aruba-switches/:3:1","series":null,"tags":["802.1X","Radius","Security","Switch","Aruba","Vlan"],"title":"802.1x Port Authentication with ARUBA switches","uri":"/posts/2023-07-11_802-1x-port-authentication-with-aruba-switches/#bonus-what-about-ip-phones"},{"categories":null,"content":" Switch Configuration VLAN SetupFirst thing we need to do is add the vlans if not already done. I’ve tagged the vlans on all the ports for simplicity sake. text vlan 10 name VLAN10_Company vlan 10 tagged all vlan 20 name VLAN20_Public vlan 20 tagged all vlan 30 name VLAN30_Phones vlan 30 tagged all Radius Server and AuthenticationNext we need to configure the remote RADIUS server (our NPS server) and tell the switch the ‘secretkey’ text radius-server host 192.168.10.2 key \"secretkey\" Then we configure EAP-RADIUS, this enables the switch to forward the authentication packets from the clients to the Radius server. aaa authentication port-access eap-radius We then enable 802.1x on our switch ports, here we are doing it on a a range of ports but you can specify individual ports, or separate them with a comma. We tell the switch to put autorised clients on vlan 10 (auth-vid) and non autorised clients on vlan 20 (unauth-vid) text aaa port-access authenticator 1-10 aaa port-access authenticator 1-10 unauth-vid 20 aaa port-access authenticator 1-10 auth-vid 10 aaa port-access authenticator active With that our switch configuration is done. Or is it? (Bonus) What about IP Phones?You may have noticed I included a vlan for phones, as this was a huge question I had on my first roll out of 802.1x. Will I need to add each phone to our Radius server and configure each phone for the authentication or use MAB1? No! Instead we will make the vlan a voice vlan with the following command which will allow the phone to use LLDP to fetch its assigned vlan bypassing its need for the authentication. text vlan 30 voice ConclusionWired 802.1X offers port-level authentication and access control, ensuring only authorized devices can connect to the network. It enables dynamic VLAN assignment and eliminates the need for manual port management, enhancing network security. In this blog post, I wanted to highlight the switch-side setup for 802.1X, focusing on the configuration process. When an unauthorized client is connected to the switch port, the system automatically assigns it to VLAN 10. Similarly, when a phone is plugged in, it seamlessly joins VLAN 30 without any additional setup. Moreover, authorized clients are automatically placed in VLAN 10. In summary, wired 802.1X offers port-level authentication and access control, ensuring only authorized devices can connect to the network. It enables dynamic VLAN assignment and eliminates the need for manual port management, enhancing network security. Photo by Thomas Jensen @ Unsplash.com MAC Authentication Bypass - MAB - networklessons.com ↩︎ ","date":"2023-07-13","objectID":"/posts/2023-07-11_802-1x-port-authentication-with-aruba-switches/:3:1","series":null,"tags":["802.1X","Radius","Security","Switch","Aruba","Vlan"],"title":"802.1x Port Authentication with ARUBA switches","uri":"/posts/2023-07-11_802-1x-port-authentication-with-aruba-switches/#conclusion"},{"categories":null,"content":"We’ve all used Apache and NGNIX when we have had to host a website and they are fin but let’s be honest, I’ve never gotten along with their config. And that is what bought me to Caddy. Lets take a look at what Caddy has to offer. ","date":"2023-04-23","objectID":"/posts/2023-04-23_a-look-at-caddy-a-simple-and-fast-web-server/:0:0","series":null,"tags":["web","server","website","caddy","apache","nginx","homelab"],"title":"A look at Caddy - A simple and fast web server","uri":"/posts/2023-04-23_a-look-at-caddy-a-simple-and-fast-web-server/#"},{"categories":null,"content":" CaddyCaddy is a unique (at least I think) web server with a modern feature set. You can use it as reverse proxy and load balancer. Host your PHP apps with it. Even deploy your site with git push. And I almost forgot one of the best features; automatic HTTPS, with certificates using acme providers like Lets Encrypt and ZeroSSL. Cool, Right? ","date":"2023-04-23","objectID":"/posts/2023-04-23_a-look-at-caddy-a-simple-and-fast-web-server/:0:0","series":null,"tags":["web","server","website","caddy","apache","nginx","homelab"],"title":"A look at Caddy - A simple and fast web server","uri":"/posts/2023-04-23_a-look-at-caddy-a-simple-and-fast-web-server/#caddy"},{"categories":null,"content":" InstallationCaddy is available as a single executable, a docker image or as usual via a package manager. Today we’ll be using Debian. But the if you use another OS their docs should have you covered. bash sudo apt install -y debian-keyring debian-archive-keyring apt-transport-https curl -1sLf 'https://dl.cloudsmith.io/public/caddy/stable/gpg.key' | sudo gpg --dearmor -o /usr/share/keyrings/caddy-stable-archive-keyring.gpg curl -1sLf 'https://dl.cloudsmith.io/public/caddy/stable/debian.deb.txt' | sudo tee /etc/apt/sources.list.d/caddy-stable.list sudo apt update sudo apt install caddy Once installed the service will run automatically and serve the default welcome page on port 80. Caddy can then be configured using the file Caddyfile in /etc/caddy ","date":"2023-04-23","objectID":"/posts/2023-04-23_a-look-at-caddy-a-simple-and-fast-web-server/:1:0","series":null,"tags":["web","server","website","caddy","apache","nginx","homelab"],"title":"A look at Caddy - A simple and fast web server","uri":"/posts/2023-04-23_a-look-at-caddy-a-simple-and-fast-web-server/#installation"},{"categories":null,"content":" ConfigurationAs said above caddy can be configured using the file Caddyfile in /etc/caddy. In this file we give it directives to either be a reverse proxy, web server, php front, etc. Caddy can also be configured using its REST API if that’s something that interests you. ","date":"2023-04-23","objectID":"/posts/2023-04-23_a-look-at-caddy-a-simple-and-fast-web-server/:2:0","series":null,"tags":["web","server","website","caddy","apache","nginx","homelab"],"title":"A look at Caddy - A simple and fast web server","uri":"/posts/2023-04-23_a-look-at-caddy-a-simple-and-fast-web-server/#configuration"},{"categories":null,"content":" Reverse ProxyLet’s say you had an app running on port 9999 that you wanted to reverse proxy to 443 (HTTPS). The config file would look like so: json demo.app.com { reverse_proxy 127.0.0.1:9999 encode gzip } For caddy to reload the Caddyfile we just need to run a systemctl reload caddy, Caddy will then reload the config file, request a certificate for demo.app.com and then serve your app over HTTPS1. ","date":"2023-04-23","objectID":"/posts/2023-04-23_a-look-at-caddy-a-simple-and-fast-web-server/:2:1","series":null,"tags":["web","server","website","caddy","apache","nginx","homelab"],"title":"A look at Caddy - A simple and fast web server","uri":"/posts/2023-04-23_a-look-at-caddy-a-simple-and-fast-web-server/#reverse-proxy"},{"categories":null,"content":" Static FilesOkay a reverse proxy is nice but my website (this one) is static and generated by Hugo, how could we serve it using caddy? Again only 4 lines of config is enough. json demo.website.com { # where our static files are stored root * /var/www/demo.droapp.com/public file_server } A quick systemctl reload caddy later and Caddy is serving your static files over HTTPS1 at demo.website.com ","date":"2023-04-23","objectID":"/posts/2023-04-23_a-look-at-caddy-a-simple-and-fast-web-server/:2:2","series":null,"tags":["web","server","website","caddy","apache","nginx","homelab"],"title":"A look at Caddy - A simple and fast web server","uri":"/posts/2023-04-23_a-look-at-caddy-a-simple-and-fast-web-server/#static-files"},{"categories":null,"content":" PHP-fpmYou would usually use Ngninx as a front for PHP-fpm, well Caddy can do that too. And again with a simple config file. json demo.website.com { # where our files are stored root * /var/www/demo.website.com # we tell caddy where to find the php-fpm socket php_fastcgi /run/php/php8.2-fpm.sock file_server encode gzip } Again a quick systemctl reload caddy and we are now fronting a php app over HTTPS1. ","date":"2023-04-23","objectID":"/posts/2023-04-23_a-look-at-caddy-a-simple-and-fast-web-server/:2:3","series":null,"tags":["web","server","website","caddy","apache","nginx","homelab"],"title":"A look at Caddy - A simple and fast web server","uri":"/posts/2023-04-23_a-look-at-caddy-a-simple-and-fast-web-server/#php-fpm"},{"categories":null,"content":" Bonus","date":"2023-04-23","objectID":"/posts/2023-04-23_a-look-at-caddy-a-simple-and-fast-web-server/:3:0","series":null,"tags":["web","server","website","caddy","apache","nginx","homelab"],"title":"A look at Caddy - A simple and fast web server","uri":"/posts/2023-04-23_a-look-at-caddy-a-simple-and-fast-web-server/#bonus"},{"categories":null,"content":" Docker \u0026 Docker ComposeCaddy is also often run with Docker Compose and is still as simple. Here is a simple docker-compose.yml and we can use any example Caddyfile from above. yml version: \"3.7\" services: caddy: image: caddy:\u003cversion\u003e restart: unless-stopped ports: - \"80:80\" - \"443:443\" - \"443:443/udp\" volumes: - $PWD/Caddyfile:/etc/caddy/Caddyfile - $PWD/caddy_data:/data - $PWD/caddy_config:/config - $PWD/site:/srv # If we wanted to serve static files in $PWD/site Docs Caddy has some of the best documentation I’ve seen in a while. There are plenty of other functions that I’ve not covered here. And with that, I think I have covered the basics of using Caddy. Do you use it? Tell me how and what you think. Cheers - Designated Survivor Original Feature photo by Valery Sysoev at Unsplash Caddy will only succeed at requesting a certificate if you have ports 80 and 443 open on your server. You can also disable the certificate request if not needed. Other options like local HTTPS can also be used ↩︎ ↩︎ ↩︎ ","date":"2023-04-23","objectID":"/posts/2023-04-23_a-look-at-caddy-a-simple-and-fast-web-server/:3:1","series":null,"tags":["web","server","website","caddy","apache","nginx","homelab"],"title":"A look at Caddy - A simple and fast web server","uri":"/posts/2023-04-23_a-look-at-caddy-a-simple-and-fast-web-server/#docker--docker-compose"},{"categories":null,"content":"After lucking out and not loosing any of my data saved to my nextcloud after the OVH fire1 🔥 in Strasbourg. I did however loose the VPS that hosted the website for www.evansmedia.fr The shoemaker always wears the worst shoes, right? I may have become a bit paranoid about backups, especially for anything stored in my Nextcloud which holds just about anything to do with my personal life, including photos of our recent newborn. ","date":"2023-03-28","objectID":"/posts/2023-03-27_backups-with-restic/:0:0","series":null,"tags":["backups","restic","self-hosted"],"title":"Backups with Restic","uri":"/posts/2023-03-27_backups-with-restic/#"},{"categories":null,"content":" The 3-2-1 RuleI decided to base my backup strategy on the 3-2-1 rule (and you should too) The idea that a minimal backup solution should include three copies of the data, including two copies on different media and one remote (offsite) copy. ","date":"2023-03-28","objectID":"/posts/2023-03-27_backups-with-restic/:1:0","series":null,"tags":["backups","restic","self-hosted"],"title":"Backups with Restic","uri":"/posts/2023-03-27_backups-with-restic/#the-3-2-1-rule"},{"categories":null,"content":" Local Backups(We are pretending that we are backing up a local server here but the Virtual Machine I’m backing up is actually hosted in a DC so I’m backing it up locally at home) To perform my backups I am using two tools, Proxmox Backup Server2 which is a backup appliance built by the folks that build proxmox; and Restic, a modern app that backups files to loads of different services. Today we will be focusing on a single backup tier with Restic. ","date":"2023-03-28","objectID":"/posts/2023-03-27_backups-with-restic/:1:1","series":null,"tags":["backups","restic","self-hosted"],"title":"Backups with Restic","uri":"/posts/2023-03-27_backups-with-restic/#local-backups"},{"categories":null,"content":" Restic restic is a backup program that is fast, efficient and secure. It supports the three major operating systems (Linux, macOS, Windows) and a few smaller ones (FreeBSD, OpenBSD). https://restic.net/ ","date":"2023-03-28","objectID":"/posts/2023-03-27_backups-with-restic/:2:0","series":null,"tags":["backups","restic","self-hosted"],"title":"Backups with Restic","uri":"/posts/2023-03-27_backups-with-restic/#restic"},{"categories":null,"content":" Why Restic it is simple and fast to use it enables backup many different storage locations including self-hosted and online services (Amazon S3, Google Drive, Backblaze etc.) it’s backups can be fully encrypted restores are simple and you can even mount the backup repository and retrieve a single file. ","date":"2023-03-28","objectID":"/posts/2023-03-27_backups-with-restic/:2:1","series":null,"tags":["backups","restic","self-hosted"],"title":"Backups with Restic","uri":"/posts/2023-03-27_backups-with-restic/#why-restic"},{"categories":null,"content":" Install ResticFirst and formost we need to install restic, this is a simple as running as using APT on Ubuntu/Debian (in my use case) bash sudo apt install restic ","date":"2023-03-28","objectID":"/posts/2023-03-27_backups-with-restic/:2:2","series":null,"tags":["backups","restic","self-hosted"],"title":"Backups with Restic","uri":"/posts/2023-03-27_backups-with-restic/#install-restic"},{"categories":null,"content":" Init the storage repoThe beauty of restic is that you can use just about any type of storage backend (local, Amazon S3, Minio Server, Backblaze B2, Azure, Google Cloud Storage, SFTP, etc.) for your backup repo and the interface stays for the most part the same. In this case i’m using their own storage backend Rest-Server Rest-Server Rest Server is a high performance HTTP server that implements restic’s REST backend API. It provides secure and efficient way to backup data remotely, using restic backup client via the rest: URL. So now you have chosen the storage backend for your repo, we need to initialise it. Let’s say that we want to name our repository backups and we can use the following command to initialise it. bash restic -r rest:http://my-rest-server:8000/backups init Restic will ask you to create a password (keep this safe we will need this later) and will initialise the repo. We can use check to verify that the repository is initialised. bash restic -r rest:http://my-rest-server:8000/backups check enter password for repository: password is correct create exclusive lock for repository load indexesY check all packs check snapshots, trees and blobs no errors were found ","date":"2023-03-28","objectID":"/posts/2023-03-27_backups-with-restic/:2:3","series":null,"tags":["backups","restic","self-hosted"],"title":"Backups with Restic","uri":"/posts/2023-03-27_backups-with-restic/#init-the-storage-repo"},{"categories":null,"content":" Backing up all the thingsNow we have an initialised repository we can start backing up our cat pictures. With the backup and pointing to the repository we created. So to backup my ~/cat-pictures folder I would run this command bash restic -r rest:http://my-rest-server:8000/backups backup ~/cat-pictures Yes it’s that simple 😎 Everytime a backup is run, restic creates a snapshot, you can list these using the snapshot command. bash restic -r rest:http://my-rest-server:8000/snapshots enter password for repository: password is correct ID Date Host Tags Directory ---------------------------------------------------------------------- ac8721ec 2023-03-26 20:18:16 my-pc /home/bounty/cat-pictures ---------------------------------------------------------------------- 1 snapshots ","date":"2023-03-28","objectID":"/posts/2023-03-27_backups-with-restic/:2:4","series":null,"tags":["backups","restic","self-hosted"],"title":"Backups with Restic","uri":"/posts/2023-03-27_backups-with-restic/#backing-up-all-the-things"},{"categories":null,"content":" Restoring the cat picturesWhat is a backup if you have not tested a restore? Well it’s not a backup because you don’t know it it worked. So let’s try restoring our cat pictures with the restore command. We need to specify the snapshot id ac8721ec and where we want to restore to ~/restored-cat-pictures bash restic -r rest:http://my-rest-server:8000/backups restore ac8721ec --target ~/restored-cat-pictures/ Tip You can use latest in place of the snapshot id to reference the last snapshot. Thats as simple as the backup, right? Other Commands and Documentation Restic has loads of other useful commands that you can find in their great documentation ","date":"2023-03-28","objectID":"/posts/2023-03-27_backups-with-restic/:2:5","series":null,"tags":["backups","restic","self-hosted"],"title":"Backups with Restic","uri":"/posts/2023-03-27_backups-with-restic/#restoring-the-cat-pictures"},{"categories":null,"content":" Automating with a Bash script and CronManual backups are ok but you might forget to run them, so lets automate our backup with a bash script and a cron entry. And for bonus points lets make sure we have a way to send us message in case of failure. My basic script is below, each action is explained in the comments. Note: my script is by no means perfect and may contain errors, feel free to correct it or suggest improvments below bash #!/bin/bash #This will run Restic backups # Restic variables export RESTIC_REPOSITORY=rest:http://my-rest-server:8000/backups export RESTIC_PASSWORD=super-secret-repo-password1234 RESTIC_Folder=\"~/cat-pictures\" # We define a log location here Log_location=/var/log/restic-nas.log # Telegram Variables (if not used you need to remove the telegram block) TELEGRAM_token= TELEGRAM_chatid= #Define a timestamp function timestamp() { date \"+%b %d %Y %T %Z\" } # Insert timestamp abd header into log printf \"\\n\\n\" echo \"-------------------------------------------------------------------------------\" | tee -a $Log_location echo \"$(timestamp): restic.sh - Rest Backup started\" | tee -a $Log_location # Run Backups NAS_backup_log=$(restic backup $RESTIC_Folder) echo \"$NAS_backup_log\" | tee -a $Log_location ## This is a dirty way to check that the backup was a sucess and added files to the repo otherwise we fail. if [[ \"$NAS_backup_log\" == *\"Added to the repo\"** ]]; then ## If backup was successul lets move on and write the result to the log printf \"\\n\\n\" echo \"-------------------------------------------------------------------------------\" | tee -a $Log_location echo \"$(timestamp): restic.sh - COMPLETED - Rest Backup\" | tee -a $Log_location else ## If the backup fails, we write to the log and send a message on Telegram printf \"\\n\\n\" echo \"-------------------------------------------------------------------------------\" | tee -a $Log_location echo \"$(timestamp): restic.sh - FAILED - Rest Backup\" | tee -a $Log_location ## If failed send message to telegram curl -X POST https://api.telegram.org/$TELEGRAM_token/sendMessage \\ --data parse_mode=HTML --data chat_id=\"$TELEGRAM_chatid\" \\ --data text=\"\u003cb\u003e$(timestamp)%0A FAILED - REST Backup\u003c/b\u003e%0A%0A\u003cpre\u003e$NAS_backup_log\u003c/pre\u003e\" -4 exit 1 fi Once we have saved our bash script to say ~/restic_script.sh we need to allow its execution with chmod and add it to our crontab bash chmod +x ~/restic_script.sh # allow execution of our script bash crontab -e # edit our crontab bash # Edit this file to introduce tasks to be run by cron. [...] # To define the time you can provide concrete values for # minute (m), hour (h), day of month (dom), month (mon), # and day of week (dow) or use '*' in these fields (for 'any'). [...] # m h dom mon dow command 0 1 * * * ~/restic_script.sh # will run our script every night a 1 AM With that you now have automated the your backups. I’m sure you my have a better way of doing this, why not share your thoughts in the comments? 10 March 2021 - Millions of websites offline after fire at French cloud services firm - Reuters ↩︎ Proxmox Backup Server is an enterprise backup solution, for backing up and restoring VMs, containers, and physical hosts. ↩︎ ","date":"2023-03-28","objectID":"/posts/2023-03-27_backups-with-restic/:2:6","series":null,"tags":["backups","restic","self-hosted"],"title":"Backups with Restic","uri":"/posts/2023-03-27_backups-with-restic/#automating-with-a-bash-script-and-cron"},{"categories":null,"content":" EmailQuestion: What is one service on the internet that we use regularly and has become part of our day to day? EMAIL Chances are that if you use a computer, you have at the very least one email address, some people have more that one (I’ve lost count). That brings me to a firm belief of mine: if you work in IT in any shape or form, your email should be your own, with your own domain name (hello@evans.fr for example) instead of using a @gmail.com @outlook.com or @aol.com (that’s an old one) or any other provider. ","date":"2023-01-15","objectID":"/posts/2023-01-09_self-hosted-email-why-and-how/:1:0","series":null,"tags":["email","self-hosted","mailcow","guide"],"title":"Self-hosted Email - Why and How?","uri":"/posts/2023-01-09_self-hosted-email-why-and-how/#email"},{"categories":null,"content":" Why (self-host)I for one have used to host all of my email addresses on Google Apps (now called Google Workspace). It was simple point the right mx records to their servers and boom your own email domain. Many other providers also let you do this but where google was clever, is that their service had a great free tier (as in free beer) until they decided to pull the rug out from under us all and sunsetted the free tier. (Another reason people may self-host their email is having full control over the service and not sharing any data with the FAANG companies) That got me thinking, why not host my own email someday. So to as with a lot of my research starts I go to Reddit.com and the general consensus is: Why bother. But still I continue my research and decide to continue. Afterall the best way to learn is to do it. How hard can it be? but first, we need coffee… ","date":"2023-01-15","objectID":"/posts/2023-01-09_self-hosted-email-why-and-how/:2:0","series":null,"tags":["email","self-hosted","mailcow","guide"],"title":"Self-hosted Email - Why and How?","uri":"/posts/2023-01-09_self-hosted-email-why-and-how/#why-self-host"},{"categories":null,"content":" How (Using Docker \u0026 Mailcow)I won’t be deep diving into how to set an email server as there are plenty of guides to be found but I will at least point you in the right direction. ","date":"2023-01-15","objectID":"/posts/2023-01-09_self-hosted-email-why-and-how/:3:0","series":null,"tags":["email","self-hosted","mailcow","guide"],"title":"Self-hosted Email - Why and How?","uri":"/posts/2023-01-09_self-hosted-email-why-and-how/#how-using-docker--mailcow"},{"categories":null,"content":" What we need A Domain name of your own A VM or VPS server with: 2 VCPUs, 4 GB of RAM (at minimum), 80 GB storage (or more), a clean IP address (I suggest Milkywan or Virtua.Cloud both are based in france and have great connectivity.) Docker \u0026 Docker Compose (I suggest using docker as tt is fast to setup) Mailcow Dockerized, my mail server of choice - it contains all the services needed and runs in docker containers ","date":"2023-01-15","objectID":"/posts/2023-01-09_self-hosted-email-why-and-how/:3:1","series":null,"tags":["email","self-hosted","mailcow","guide"],"title":"Self-hosted Email - Why and How?","uri":"/posts/2023-01-09_self-hosted-email-why-and-how/#what-we-need"},{"categories":null,"content":" Setup DNSYou will need to setup the following DNS records for Mailcow to work text # Name Type Value mail IN A 1.2.3.4 autodiscover IN CNAME mail.example.org. (your ${MAILCOW_HOSTNAME}) autoconfig IN CNAME mail.example.org. (your ${MAILCOW_HOSTNAME}) @ IN MX 10 mail.example.org. (your ${MAILCOW_HOSTNAME}) Installing MailcowOnce the DNS records are propagated, you can install and setup mailcow. First we clone the repository and set the permissions on the folders bash su umask 0022 # \u003c- Verify it is 0022 cd /opt git clone https://github.com/mailcow/mailcow-dockerized cd mailcow-dockerized Once that is done we need to initialise mailcow and create a configuration file using the command below, It will ask for your FQDN (domain name) bash ./generate_config.sh Once you have answered the questions it will generate the configuration file for you. Once generated we can run mailcow using the commands below bash docker compose pull docker compose up -d CONGRATULATIONS ! You have setup a mail server (well almost) Now that the server is running, you can access https://${MAILCOW_HOSTNAME} with the default credentials admin + password moohoo and start setting up domains and email addresses. Mailcow has a great help site which will walk you through most of the settings that I have not covered. ","date":"2023-01-15","objectID":"/posts/2023-01-09_self-hosted-email-why-and-how/:3:2","series":null,"tags":["email","self-hosted","mailcow","guide"],"title":"Self-hosted Email - Why and How?","uri":"/posts/2023-01-09_self-hosted-email-why-and-how/#setup"},{"categories":null,"content":" Setup DNSYou will need to setup the following DNS records for Mailcow to work text # Name Type Value mail IN A 1.2.3.4 autodiscover IN CNAME mail.example.org. (your ${MAILCOW_HOSTNAME}) autoconfig IN CNAME mail.example.org. (your ${MAILCOW_HOSTNAME}) @ IN MX 10 mail.example.org. (your ${MAILCOW_HOSTNAME}) Installing MailcowOnce the DNS records are propagated, you can install and setup mailcow. First we clone the repository and set the permissions on the folders bash su umask 0022 # \u003c- Verify it is 0022 cd /opt git clone https://github.com/mailcow/mailcow-dockerized cd mailcow-dockerized Once that is done we need to initialise mailcow and create a configuration file using the command below, It will ask for your FQDN (domain name) bash ./generate_config.sh Once you have answered the questions it will generate the configuration file for you. Once generated we can run mailcow using the commands below bash docker compose pull docker compose up -d CONGRATULATIONS ! You have setup a mail server (well almost) Now that the server is running, you can access https://${MAILCOW_HOSTNAME} with the default credentials admin + password moohoo and start setting up domains and email addresses. Mailcow has a great help site which will walk you through most of the settings that I have not covered. ","date":"2023-01-15","objectID":"/posts/2023-01-09_self-hosted-email-why-and-how/:3:2","series":null,"tags":["email","self-hosted","mailcow","guide"],"title":"Self-hosted Email - Why and How?","uri":"/posts/2023-01-09_self-hosted-email-why-and-how/#dns"},{"categories":null,"content":" Setup DNSYou will need to setup the following DNS records for Mailcow to work text # Name Type Value mail IN A 1.2.3.4 autodiscover IN CNAME mail.example.org. (your ${MAILCOW_HOSTNAME}) autoconfig IN CNAME mail.example.org. (your ${MAILCOW_HOSTNAME}) @ IN MX 10 mail.example.org. (your ${MAILCOW_HOSTNAME}) Installing MailcowOnce the DNS records are propagated, you can install and setup mailcow. First we clone the repository and set the permissions on the folders bash su umask 0022 # \u003c- Verify it is 0022 cd /opt git clone https://github.com/mailcow/mailcow-dockerized cd mailcow-dockerized Once that is done we need to initialise mailcow and create a configuration file using the command below, It will ask for your FQDN (domain name) bash ./generate_config.sh Once you have answered the questions it will generate the configuration file for you. Once generated we can run mailcow using the commands below bash docker compose pull docker compose up -d CONGRATULATIONS ! You have setup a mail server (well almost) Now that the server is running, you can access https://${MAILCOW_HOSTNAME} with the default credentials admin + password moohoo and start setting up domains and email addresses. Mailcow has a great help site which will walk you through most of the settings that I have not covered. ","date":"2023-01-15","objectID":"/posts/2023-01-09_self-hosted-email-why-and-how/:3:2","series":null,"tags":["email","self-hosted","mailcow","guide"],"title":"Self-hosted Email - Why and How?","uri":"/posts/2023-01-09_self-hosted-email-why-and-how/#installing-mailcow"},{"categories":null,"content":" EndI hope that with this short post, you can see that it’s not actually hard to setup a mailserver. What is hard is keeping of spam lists and fighting incoming spam, but for personal use and with the help of Mailcow you should be fine. Another thing you should not forget is … BACKUPS. If you host your main email on this server, you should back it up regularly. Photo by Brett Jordon @ Unsplash.com ","date":"2023-01-15","objectID":"/posts/2023-01-09_self-hosted-email-why-and-how/:4:0","series":null,"tags":["email","self-hosted","mailcow","guide"],"title":"Self-hosted Email - Why and How?","uri":"/posts/2023-01-09_self-hosted-email-why-and-how/#end"},{"categories":null,"content":" After the Virtual Private ServersAfter loosing one of my virtual private servers along with the data in the ‘The Great Fire of OVH 🔥’1 (Yes I know I should have had backups of that VPS2), I thought why not setup a Proxmox3 Cluster4 on a couple dedicated servers. So I went ahead and found OneProvider.com where you can rent dedicated servers for cheap, their cheap hardware is old and the connectivity is ok but you cannot beat there pricing (Server with an Intel Atom C2750, 16 Gb Ram, 1Tb Hard drive and 1Gb of ‘unlimited’ bandwidth was €14 per server/month at the time). That went great for a couple of months but I kept getting frustrated with not having full control over the hardware and my growing interest for BGP5 and how the internet is really just a bunch of (small) inter connected networks. After some trial and error I decided I should review my home-lab goals and re-think my shopping list. ","date":"2023-01-07","objectID":"/posts/2022-12-24_vps-to-a-coloed-server-my-homelab-journey-part-2/:1:0","series":["VPS to a coloed server my homelab journey"],"tags":["homelab","ovh","vps","servers","wordpress","colo","colocation"],"title":"VPS to a coloed server, my homelab journey - Part 2","uri":"/posts/2022-12-24_vps-to-a-coloed-server-my-homelab-journey-part-2/#after-the-virtual-private-servers"},{"categories":null,"content":" The Shopping ListSo what did I want? My own (recent-ish) hardware A Decent Host for my hardware (Colocation Provider) BGP transit connection with my own leased /24 block of IPs Bonus: 10 Gb connection to the internet I now had a plan and a decent shopping list, although we didn’t talk about budget. Lets just say around €700 for the hardware and another €100-120 per month for the hosting. ","date":"2023-01-07","objectID":"/posts/2022-12-24_vps-to-a-coloed-server-my-homelab-journey-part-2/:2:0","series":["VPS to a coloed server my homelab journey"],"tags":["homelab","ovh","vps","servers","wordpress","colo","colocation"],"title":"VPS to a coloed server, my homelab journey - Part 2","uri":"/posts/2022-12-24_vps-to-a-coloed-server-my-homelab-journey-part-2/#the-shopping-list"},{"categories":null,"content":" A Decent Host for my hardwareI first found a great host for my hardware while browsing LaFibre.info a french forum about fiber to the home and IT in general. The host I chose is MilkyWan, they are a small not for profit internet service provider run by a small passionate team. They specialise in providing Virtual Servers, Hosting, ADSL and Fiber Internet. They also have multiple points of presence in french datacenters where they can host hardware and provide BGP transit. They also have a great community on telegram. Cost : €75 for 1U Server Housing, Power and Network Connection. Bonus: They can provide a 10Gb connection to the internet. Did I mention they have a great community, being charity run means that they hold annual meeting and have the best interests of their members at heart. Since the end of 2022 I am also an elected representative of the members to the charity comity ","date":"2023-01-07","objectID":"/posts/2022-12-24_vps-to-a-coloed-server-my-homelab-journey-part-2/:2:1","series":["VPS to a coloed server my homelab journey"],"tags":["homelab","ovh","vps","servers","wordpress","colo","colocation"],"title":"VPS to a coloed server, my homelab journey - Part 2","uri":"/posts/2022-12-24_vps-to-a-coloed-server-my-homelab-journey-part-2/#a-decent-host-for-my-hardware"},{"categories":null,"content":" My own (recent-ish) hardwareNow I had found somewhere for my hardware, I actually needed some hardware. I found what I needed in BargainHardware.co.uk, they specialise in secondhand enterprise hardware and have great prices. Here is the server I settled on: Dell Poweredge R620 2 x Intel Xeon E5-2660 V2 2.20Ghz Ten Core CPUs 96 Gb of DDR3 RAM 2 x 240 Gb Crucial SSDs for the boot drives (They will be in Raid 1 to provide redundancy in case of a drive failure) 6 x 900 Gb SAS Hard drives for the datadrives to give us a total of 5Tb usable space (This will be the main storage pool and will be in a ZFS pool to provide redundancy in case of a drive failure) 1 x Dell BCM57800S Quad Port - 1GbE, 10GbE SFP+, RJ45 network card Cost: €700 including shipping to france. Not too old to be inefficient to run and not too recent that it breaks the bank. This should provide me with plenty of horsepower to multiple virtual machines. ","date":"2023-01-07","objectID":"/posts/2022-12-24_vps-to-a-coloed-server-my-homelab-journey-part-2/:2:2","series":["VPS to a coloed server my homelab journey"],"tags":["homelab","ovh","vps","servers","wordpress","colo","colocation"],"title":"VPS to a coloed server, my homelab journey - Part 2","uri":"/posts/2022-12-24_vps-to-a-coloed-server-my-homelab-journey-part-2/#my-own-recent-ish-hardware"},{"categories":null,"content":" Putting it all togetherAfter ordering the server and ordering the hosting, all I had to do is setup Proxmox and then ship my brand new server to Milkywan and they racked it for me in their datacenter. I now have my own hardware with a 10G connection in a french datacenter. You may notice in the image of the speedtest below that my name appears as the ISP, that’s because I have effectively become my own ISP as I provide my server with internet via my own ASN (AS211486) and IPs. (Cloudflare has a great explainer on BGP5) My server hosts most of my ‘homelab’ including parts of this website, like the comment system and the statistics. I also have a small setup at home with a NAS and a microserver which I will probably write another post about that. Almost 10G but that's another story My server is the last machine in the rack on the header image of this post. Have you wanted or have setup your own homelab? Share your thoughts below. Other posts in this series: VPS to a coloed server, my homelab journey - Part 1 VPS to a coloed server, my homelab journey - Part 2 10 March 2021 - Millions of websites offline after fire at French cloud services firm - Reuters ↩︎ Virtual Private Server ↩︎ Proxmox Virtual Environment (PVE) is a free and open source virtualization solution that allows the deployment of virtualized systems ↩︎ A computer cluster is a set of computers that work together so that they can be viewed as a single system ↩︎ Border Gateway Protocol (BGP) is the routing protocol for the Internet. Much like the post office processing mail, BGP picks the most efficient routes for delivering Internet traffic. What is BGP - Cloudlare ↩︎ ↩︎ ","date":"2023-01-07","objectID":"/posts/2022-12-24_vps-to-a-coloed-server-my-homelab-journey-part-2/:3:0","series":["VPS to a coloed server my homelab journey"],"tags":["homelab","ovh","vps","servers","wordpress","colo","colocation"],"title":"VPS to a coloed server, my homelab journey - Part 2","uri":"/posts/2022-12-24_vps-to-a-coloed-server-my-homelab-journey-part-2/#putting-it-all-together"},{"categories":null,"content":"I could be described as a passionate podcast listener, whether I’m on public transport, wondering around town, doing some odd jobs around the flat or during a quiet period at work I usually stick on a podcast. Here are some of my recomendations ","date":"2022-12-21","objectID":"/posts/2022-12-21_podcast-recommendations/:0:0","series":null,"tags":["podcast","audio","cyber","crime"],"title":"Podcast Recommendations","uri":"/posts/2022-12-21_podcast-recommendations/#"},{"categories":null,"content":" IT \u0026 Cybersecurity","date":"2022-12-21","objectID":"/posts/2022-12-21_podcast-recommendations/:1:0","series":null,"tags":["podcast","audio","cyber","crime"],"title":"Podcast Recommendations","uri":"/posts/2022-12-21_podcast-recommendations/#it--cybersecurity"},{"categories":null,"content":" Darknet Diaries - Jack Rhysider Host Jack takes you on journeys about hackers,breaches, shadow government activity and cybercrime. Jack is a great story teller and his episodes are extremely well written and researched, sound design is also on point. darknetdiaries.com ","date":"2022-12-21","objectID":"/posts/2022-12-21_podcast-recommendations/:1:1","series":null,"tags":["podcast","audio","cyber","crime"],"title":"Podcast Recommendations","uri":"/posts/2022-12-21_podcast-recommendations/#darknet-diaries---jack-rhysider"},{"categories":null,"content":" Risky Business - Patrick Gray Risky Business is a weekly podcast that features mostly IT \u0026 security news and great in-depth commentary from security industry experts. Hosted by journalist Patrick Grey it is always worth a listen. risky.biz ","date":"2022-12-21","objectID":"/posts/2022-12-21_podcast-recommendations/:1:2","series":null,"tags":["podcast","audio","cyber","crime"],"title":"Podcast Recommendations","uri":"/posts/2022-12-21_podcast-recommendations/#risky-business---patrick-gray"},{"categories":null,"content":" The Lazarus Hiest - Geoff White \u0026 Jean Lee Geoff White and Jean Lee take you on the story of “Almost the Perfect Crime”. Starts with a hacking ring and an attempt to steal a billion dollars. Investigators point to North Korea. Again another podcast that is well researched and written. BBC World Service ","date":"2022-12-21","objectID":"/posts/2022-12-21_podcast-recommendations/:1:3","series":null,"tags":["podcast","audio","cyber","crime"],"title":"Podcast Recommendations","uri":"/posts/2022-12-21_podcast-recommendations/#the-lazarus-hiest---geoff-white--jean-lee"},{"categories":null,"content":" Crypto Scams","date":"2022-12-21","objectID":"/posts/2022-12-21_podcast-recommendations/:2:0","series":null,"tags":["podcast","audio","cyber","crime"],"title":"Podcast Recommendations","uri":"/posts/2022-12-21_podcast-recommendations/#crypto-scams"},{"categories":null,"content":" The Missing Cryptoqueen - Jamie Bartlett Jamie Bartlett and his team of researchers take you on the story of Dr Ruja Ignatova and the thrilling rise and fall of the biggest cryptocurrency ponzi schemes in history. Need I say more? Great story. BBC Radio 5 Live ","date":"2022-12-21","objectID":"/posts/2022-12-21_podcast-recommendations/:2:1","series":null,"tags":["podcast","audio","cyber","crime"],"title":"Podcast Recommendations","uri":"/posts/2022-12-21_podcast-recommendations/#the-missing-cryptoqueen---jamie-bartlett"},{"categories":null,"content":" Exit Scam - Threats Media Another Podcast about a crypto scam. Gerald Cotten, the founder of Canada’s biggest Bitcoin exchange died under mysterious circumstances during a honeymoon trip to India in 2018. His customers were told that the $215 million they’d deposited on the exchange was lost forever — because Gerry had forgotten to leave behind his passwords. However quite a lot of people don’t believe that he’s dead. ExitScam.show ","date":"2022-12-21","objectID":"/posts/2022-12-21_podcast-recommendations/:2:2","series":null,"tags":["podcast","audio","cyber","crime"],"title":"Podcast Recommendations","uri":"/posts/2022-12-21_podcast-recommendations/#exit-scam---threats-media"},{"categories":null,"content":" Crime","date":"2022-12-21","objectID":"/posts/2022-12-21_podcast-recommendations/:3:0","series":null,"tags":["podcast","audio","cyber","crime"],"title":"Podcast Recommendations","uri":"/posts/2022-12-21_podcast-recommendations/#crime"},{"categories":null,"content":" Hunting Warhead - CBC Podcasts \u0026 VG A story of rescuing child abuse victims around the world, Hunting Wardhead follows the journalists and the police exposing the darkest corners of the internet. Great podcast although can be hard to listen to at times due to the subject matter. CBC Podcasts ","date":"2022-12-21","objectID":"/posts/2022-12-21_podcast-recommendations/:3:1","series":null,"tags":["podcast","audio","cyber","crime"],"title":"Podcast Recommendations","uri":"/posts/2022-12-21_podcast-recommendations/#hunting-warhead---cbc-podcasts--vg"},{"categories":null,"content":" Death in Ice Valley - BBC World Service \u0026 NRK Marit Higraff and Neil McCarth follows a two your investigation into the Isdal Women case, an unknown women whose burned body was found in western Norway in 1970. Due to the interest in the podcast, new leads were gathered by crowd-source researchers, finally convinving the Bergen Police to reopen the case in 2016. BBC World Service Thats all for now. Have you got a podcast suggestion? Drop it in the comments below Photo by Melanie Pongratz @ Unsplash.com ","date":"2022-12-21","objectID":"/posts/2022-12-21_podcast-recommendations/:3:2","series":null,"tags":["podcast","audio","cyber","crime"],"title":"Podcast Recommendations","uri":"/posts/2022-12-21_podcast-recommendations/#death-in-ice-valley---bbc-world-service--nrk"},{"categories":null,"content":"So I know a couple people who run their ASNs on Mikrotik routers (running RouterOS) as their hardware is cheap and easy to find. That includes me, I run BGP on their CHR image to announce my own ASN and IP v4 and V6 subnets. RouterOS CHR which is an image of RouterOS that you can run on your own hardware. You would prevously use RouterOS version 6, but now version 7 has a couple stable releases and is supposed to be more stable and faster for BGP, I thought I would post some of my configs for version 7 as the config syntax has changed quite a bit. Today I’ll focus on IPv4 but IPv6 is pretty much the same. ","date":"2022-11-13","objectID":"/posts/2022-11-13_bgp-ipv4-config-on-mikrotik-routerosv7/:0:0","series":null,"tags":["routeros","mikrotik","routerosv7","bgp","configs"],"title":"BGP IPv4 Config on Mikrotik RouterOSv7","uri":"/posts/2022-11-13_bgp-ipv4-config-on-mikrotik-routerosv7/#"},{"categories":null,"content":" Wait! ASN, BGP, You’ve lost me … What is BGP? Border Gateway Protocol (BGP) is the postal service of the Internet. When someone drops a letter into a mailbox, the Postal Service processes that piece of mail and chooses a fast, efficient route to deliver that letter to its recipient1 What is an autonomous system and ASNs? The Internet is a network of networks*, and autonomous systems are the big networks that make up the Internet. More specifically, an autonomous system (AS) is a large network or group of networks that has a unified routing policy. Every computer or device that connects to the Internet is connected to an AS. Each AS is assigned an official number, or autonomous system number (ASN), similar to how every business has a business license with an unique, official number. But unlike businesses, external parties often refer to ASes by their number alone. 2 ","date":"2022-11-13","objectID":"/posts/2022-11-13_bgp-ipv4-config-on-mikrotik-routerosv7/:0:1","series":null,"tags":["routeros","mikrotik","routerosv7","bgp","configs"],"title":"BGP IPv4 Config on Mikrotik RouterOSv7","uri":"/posts/2022-11-13_bgp-ipv4-config-on-mikrotik-routerosv7/#wait-asn-bgp-youve-lost-me-"},{"categories":null,"content":" Wait! ASN, BGP, You’ve lost me … What is BGP? Border Gateway Protocol (BGP) is the postal service of the Internet. When someone drops a letter into a mailbox, the Postal Service processes that piece of mail and chooses a fast, efficient route to deliver that letter to its recipient1 What is an autonomous system and ASNs? The Internet is a network of networks*, and autonomous systems are the big networks that make up the Internet. More specifically, an autonomous system (AS) is a large network or group of networks that has a unified routing policy. Every computer or device that connects to the Internet is connected to an AS. Each AS is assigned an official number, or autonomous system number (ASN), similar to how every business has a business license with an unique, official number. But unlike businesses, external parties often refer to ASes by their number alone. 2 ","date":"2022-11-13","objectID":"/posts/2022-11-13_bgp-ipv4-config-on-mikrotik-routerosv7/:0:1","series":null,"tags":["routeros","mikrotik","routerosv7","bgp","configs"],"title":"BGP IPv4 Config on Mikrotik RouterOSv7","uri":"/posts/2022-11-13_bgp-ipv4-config-on-mikrotik-routerosv7/#what-is-bgp"},{"categories":null,"content":" Wait! ASN, BGP, You’ve lost me … What is BGP? Border Gateway Protocol (BGP) is the postal service of the Internet. When someone drops a letter into a mailbox, the Postal Service processes that piece of mail and chooses a fast, efficient route to deliver that letter to its recipient1 What is an autonomous system and ASNs? The Internet is a network of networks*, and autonomous systems are the big networks that make up the Internet. More specifically, an autonomous system (AS) is a large network or group of networks that has a unified routing policy. Every computer or device that connects to the Internet is connected to an AS. Each AS is assigned an official number, or autonomous system number (ASN), similar to how every business has a business license with an unique, official number. But unlike businesses, external parties often refer to ASes by their number alone. 2 ","date":"2022-11-13","objectID":"/posts/2022-11-13_bgp-ipv4-config-on-mikrotik-routerosv7/:0:1","series":null,"tags":["routeros","mikrotik","routerosv7","bgp","configs"],"title":"BGP IPv4 Config on Mikrotik RouterOSv7","uri":"/posts/2022-11-13_bgp-ipv4-config-on-mikrotik-routerosv7/#what-is-an-autonomous-system-and-asns"},{"categories":null,"content":" What does the config look like?Here are my config exports to announce one subnet via AS 211486. As you can see, before doing anything you need to add your prefixes that you want to announce to a network list which you will specify in the bgp template. The rest should be pretty self explanitory but I’ve detailed the main points below. Network List sh /ip firewall address-list add address=185.133.194.0/24 list=bgp TemplatesROSv7 also introduced the concept of templates to BGP, you could define one template for iBGP, one for IXPs and another for eBGP sh /routing bgp template add as=211486 disabled=no input.filter=bgp-in name=as211486-public-out-ip4 output.filter-chain=bgp-out .network=bgp \\ routing-table=main add address-families=ipv6 as=211486 disabled=no name=as211486-public-out-ip6 output.network=bgp routing-table=main FiltersAs with any BGP setup we have filters. Mikrotik changed the filter syntax in ROSv7, it feels quite a bit like bird. Their reference is pretty good. Here is a basic set of incoming and outgoing filters. The first two lines allow any network routes under 0.0.0.0/0 but not 185.133.194.0/24 which is mine. The third line allows my prefix the be annonced and nothing else. If no filter is defined for a route it will be rejected. sh /routing filter rule add chain=bgp-in comment=\"STD IPv4 IN Filter\" disabled=no rule=\"if (dst in 0.0.0.0/0) {set bgp-local-pref 90; accept}\" add chain=bgp-in comment=\"STD IPv4 IN Filter\" disabled=no rule=\"if (dst in 185.133.194.0/24) {reject}\" add chain=bgp-out comment=\"STD IPv4 OUT Filter\" disabled=no rule=\"if ( dst == 185.133.194.0/24 ) {accept}\" ConnectionLastly we add the connection which references the template, network list and filters we have just created. sh /routing bgp connection add as=211486 disabled=no input.filter=bgp-in local.role=ebgp name=ip4-mw output.filter-chain=bgp-out .network=bgp \\ remote.address=80.67.167.166/32 router-id=185.133.194.1 routing-table=main templates=as211486-public-out-ip4 Blackhole routeOne thing I often forget is to add a blackhole route to my routing table for the prefixes I would like to announce. Without this, you may have the correct filters be nothing will be announced as the router will only announce prefixes in its routing table. sh /ip route add blackhole disabled=no dst-address=185.133.194.0/24 Congratulations! You are now announcing a network with BGP on Mikrotik RouterOSv7 Source: What is BGP? | BGP routing explained - Cloudflare ↩︎ Source : What is an autonomous system? | What are ASNs? - Cloudflare ↩︎ ","date":"2022-11-13","objectID":"/posts/2022-11-13_bgp-ipv4-config-on-mikrotik-routerosv7/:0:2","series":null,"tags":["routeros","mikrotik","routerosv7","bgp","configs"],"title":"BGP IPv4 Config on Mikrotik RouterOSv7","uri":"/posts/2022-11-13_bgp-ipv4-config-on-mikrotik-routerosv7/#what-does-the-config-look-like"},{"categories":null,"content":" What does the config look like?Here are my config exports to announce one subnet via AS 211486. As you can see, before doing anything you need to add your prefixes that you want to announce to a network list which you will specify in the bgp template. The rest should be pretty self explanitory but I’ve detailed the main points below. Network List sh /ip firewall address-list add address=185.133.194.0/24 list=bgp TemplatesROSv7 also introduced the concept of templates to BGP, you could define one template for iBGP, one for IXPs and another for eBGP sh /routing bgp template add as=211486 disabled=no input.filter=bgp-in name=as211486-public-out-ip4 output.filter-chain=bgp-out .network=bgp \\ routing-table=main add address-families=ipv6 as=211486 disabled=no name=as211486-public-out-ip6 output.network=bgp routing-table=main FiltersAs with any BGP setup we have filters. Mikrotik changed the filter syntax in ROSv7, it feels quite a bit like bird. Their reference is pretty good. Here is a basic set of incoming and outgoing filters. The first two lines allow any network routes under 0.0.0.0/0 but not 185.133.194.0/24 which is mine. The third line allows my prefix the be annonced and nothing else. If no filter is defined for a route it will be rejected. sh /routing filter rule add chain=bgp-in comment=\"STD IPv4 IN Filter\" disabled=no rule=\"if (dst in 0.0.0.0/0) {set bgp-local-pref 90; accept}\" add chain=bgp-in comment=\"STD IPv4 IN Filter\" disabled=no rule=\"if (dst in 185.133.194.0/24) {reject}\" add chain=bgp-out comment=\"STD IPv4 OUT Filter\" disabled=no rule=\"if ( dst == 185.133.194.0/24 ) {accept}\" ConnectionLastly we add the connection which references the template, network list and filters we have just created. sh /routing bgp connection add as=211486 disabled=no input.filter=bgp-in local.role=ebgp name=ip4-mw output.filter-chain=bgp-out .network=bgp \\ remote.address=80.67.167.166/32 router-id=185.133.194.1 routing-table=main templates=as211486-public-out-ip4 Blackhole routeOne thing I often forget is to add a blackhole route to my routing table for the prefixes I would like to announce. Without this, you may have the correct filters be nothing will be announced as the router will only announce prefixes in its routing table. sh /ip route add blackhole disabled=no dst-address=185.133.194.0/24 Congratulations! You are now announcing a network with BGP on Mikrotik RouterOSv7 Source: What is BGP? | BGP routing explained - Cloudflare ↩︎ Source : What is an autonomous system? | What are ASNs? - Cloudflare ↩︎ ","date":"2022-11-13","objectID":"/posts/2022-11-13_bgp-ipv4-config-on-mikrotik-routerosv7/:0:2","series":null,"tags":["routeros","mikrotik","routerosv7","bgp","configs"],"title":"BGP IPv4 Config on Mikrotik RouterOSv7","uri":"/posts/2022-11-13_bgp-ipv4-config-on-mikrotik-routerosv7/#network-list"},{"categories":null,"content":" What does the config look like?Here are my config exports to announce one subnet via AS 211486. As you can see, before doing anything you need to add your prefixes that you want to announce to a network list which you will specify in the bgp template. The rest should be pretty self explanitory but I’ve detailed the main points below. Network List sh /ip firewall address-list add address=185.133.194.0/24 list=bgp TemplatesROSv7 also introduced the concept of templates to BGP, you could define one template for iBGP, one for IXPs and another for eBGP sh /routing bgp template add as=211486 disabled=no input.filter=bgp-in name=as211486-public-out-ip4 output.filter-chain=bgp-out .network=bgp \\ routing-table=main add address-families=ipv6 as=211486 disabled=no name=as211486-public-out-ip6 output.network=bgp routing-table=main FiltersAs with any BGP setup we have filters. Mikrotik changed the filter syntax in ROSv7, it feels quite a bit like bird. Their reference is pretty good. Here is a basic set of incoming and outgoing filters. The first two lines allow any network routes under 0.0.0.0/0 but not 185.133.194.0/24 which is mine. The third line allows my prefix the be annonced and nothing else. If no filter is defined for a route it will be rejected. sh /routing filter rule add chain=bgp-in comment=\"STD IPv4 IN Filter\" disabled=no rule=\"if (dst in 0.0.0.0/0) {set bgp-local-pref 90; accept}\" add chain=bgp-in comment=\"STD IPv4 IN Filter\" disabled=no rule=\"if (dst in 185.133.194.0/24) {reject}\" add chain=bgp-out comment=\"STD IPv4 OUT Filter\" disabled=no rule=\"if ( dst == 185.133.194.0/24 ) {accept}\" ConnectionLastly we add the connection which references the template, network list and filters we have just created. sh /routing bgp connection add as=211486 disabled=no input.filter=bgp-in local.role=ebgp name=ip4-mw output.filter-chain=bgp-out .network=bgp \\ remote.address=80.67.167.166/32 router-id=185.133.194.1 routing-table=main templates=as211486-public-out-ip4 Blackhole routeOne thing I often forget is to add a blackhole route to my routing table for the prefixes I would like to announce. Without this, you may have the correct filters be nothing will be announced as the router will only announce prefixes in its routing table. sh /ip route add blackhole disabled=no dst-address=185.133.194.0/24 Congratulations! You are now announcing a network with BGP on Mikrotik RouterOSv7 Source: What is BGP? | BGP routing explained - Cloudflare ↩︎ Source : What is an autonomous system? | What are ASNs? - Cloudflare ↩︎ ","date":"2022-11-13","objectID":"/posts/2022-11-13_bgp-ipv4-config-on-mikrotik-routerosv7/:0:2","series":null,"tags":["routeros","mikrotik","routerosv7","bgp","configs"],"title":"BGP IPv4 Config on Mikrotik RouterOSv7","uri":"/posts/2022-11-13_bgp-ipv4-config-on-mikrotik-routerosv7/#templates"},{"categories":null,"content":" What does the config look like?Here are my config exports to announce one subnet via AS 211486. As you can see, before doing anything you need to add your prefixes that you want to announce to a network list which you will specify in the bgp template. The rest should be pretty self explanitory but I’ve detailed the main points below. Network List sh /ip firewall address-list add address=185.133.194.0/24 list=bgp TemplatesROSv7 also introduced the concept of templates to BGP, you could define one template for iBGP, one for IXPs and another for eBGP sh /routing bgp template add as=211486 disabled=no input.filter=bgp-in name=as211486-public-out-ip4 output.filter-chain=bgp-out .network=bgp \\ routing-table=main add address-families=ipv6 as=211486 disabled=no name=as211486-public-out-ip6 output.network=bgp routing-table=main FiltersAs with any BGP setup we have filters. Mikrotik changed the filter syntax in ROSv7, it feels quite a bit like bird. Their reference is pretty good. Here is a basic set of incoming and outgoing filters. The first two lines allow any network routes under 0.0.0.0/0 but not 185.133.194.0/24 which is mine. The third line allows my prefix the be annonced and nothing else. If no filter is defined for a route it will be rejected. sh /routing filter rule add chain=bgp-in comment=\"STD IPv4 IN Filter\" disabled=no rule=\"if (dst in 0.0.0.0/0) {set bgp-local-pref 90; accept}\" add chain=bgp-in comment=\"STD IPv4 IN Filter\" disabled=no rule=\"if (dst in 185.133.194.0/24) {reject}\" add chain=bgp-out comment=\"STD IPv4 OUT Filter\" disabled=no rule=\"if ( dst == 185.133.194.0/24 ) {accept}\" ConnectionLastly we add the connection which references the template, network list and filters we have just created. sh /routing bgp connection add as=211486 disabled=no input.filter=bgp-in local.role=ebgp name=ip4-mw output.filter-chain=bgp-out .network=bgp \\ remote.address=80.67.167.166/32 router-id=185.133.194.1 routing-table=main templates=as211486-public-out-ip4 Blackhole routeOne thing I often forget is to add a blackhole route to my routing table for the prefixes I would like to announce. Without this, you may have the correct filters be nothing will be announced as the router will only announce prefixes in its routing table. sh /ip route add blackhole disabled=no dst-address=185.133.194.0/24 Congratulations! You are now announcing a network with BGP on Mikrotik RouterOSv7 Source: What is BGP? | BGP routing explained - Cloudflare ↩︎ Source : What is an autonomous system? | What are ASNs? - Cloudflare ↩︎ ","date":"2022-11-13","objectID":"/posts/2022-11-13_bgp-ipv4-config-on-mikrotik-routerosv7/:0:2","series":null,"tags":["routeros","mikrotik","routerosv7","bgp","configs"],"title":"BGP IPv4 Config on Mikrotik RouterOSv7","uri":"/posts/2022-11-13_bgp-ipv4-config-on-mikrotik-routerosv7/#filters"},{"categories":null,"content":" What does the config look like?Here are my config exports to announce one subnet via AS 211486. As you can see, before doing anything you need to add your prefixes that you want to announce to a network list which you will specify in the bgp template. The rest should be pretty self explanitory but I’ve detailed the main points below. Network List sh /ip firewall address-list add address=185.133.194.0/24 list=bgp TemplatesROSv7 also introduced the concept of templates to BGP, you could define one template for iBGP, one for IXPs and another for eBGP sh /routing bgp template add as=211486 disabled=no input.filter=bgp-in name=as211486-public-out-ip4 output.filter-chain=bgp-out .network=bgp \\ routing-table=main add address-families=ipv6 as=211486 disabled=no name=as211486-public-out-ip6 output.network=bgp routing-table=main FiltersAs with any BGP setup we have filters. Mikrotik changed the filter syntax in ROSv7, it feels quite a bit like bird. Their reference is pretty good. Here is a basic set of incoming and outgoing filters. The first two lines allow any network routes under 0.0.0.0/0 but not 185.133.194.0/24 which is mine. The third line allows my prefix the be annonced and nothing else. If no filter is defined for a route it will be rejected. sh /routing filter rule add chain=bgp-in comment=\"STD IPv4 IN Filter\" disabled=no rule=\"if (dst in 0.0.0.0/0) {set bgp-local-pref 90; accept}\" add chain=bgp-in comment=\"STD IPv4 IN Filter\" disabled=no rule=\"if (dst in 185.133.194.0/24) {reject}\" add chain=bgp-out comment=\"STD IPv4 OUT Filter\" disabled=no rule=\"if ( dst == 185.133.194.0/24 ) {accept}\" ConnectionLastly we add the connection which references the template, network list and filters we have just created. sh /routing bgp connection add as=211486 disabled=no input.filter=bgp-in local.role=ebgp name=ip4-mw output.filter-chain=bgp-out .network=bgp \\ remote.address=80.67.167.166/32 router-id=185.133.194.1 routing-table=main templates=as211486-public-out-ip4 Blackhole routeOne thing I often forget is to add a blackhole route to my routing table for the prefixes I would like to announce. Without this, you may have the correct filters be nothing will be announced as the router will only announce prefixes in its routing table. sh /ip route add blackhole disabled=no dst-address=185.133.194.0/24 Congratulations! You are now announcing a network with BGP on Mikrotik RouterOSv7 Source: What is BGP? | BGP routing explained - Cloudflare ↩︎ Source : What is an autonomous system? | What are ASNs? - Cloudflare ↩︎ ","date":"2022-11-13","objectID":"/posts/2022-11-13_bgp-ipv4-config-on-mikrotik-routerosv7/:0:2","series":null,"tags":["routeros","mikrotik","routerosv7","bgp","configs"],"title":"BGP IPv4 Config on Mikrotik RouterOSv7","uri":"/posts/2022-11-13_bgp-ipv4-config-on-mikrotik-routerosv7/#connection"},{"categories":null,"content":" What does the config look like?Here are my config exports to announce one subnet via AS 211486. As you can see, before doing anything you need to add your prefixes that you want to announce to a network list which you will specify in the bgp template. The rest should be pretty self explanitory but I’ve detailed the main points below. Network List sh /ip firewall address-list add address=185.133.194.0/24 list=bgp TemplatesROSv7 also introduced the concept of templates to BGP, you could define one template for iBGP, one for IXPs and another for eBGP sh /routing bgp template add as=211486 disabled=no input.filter=bgp-in name=as211486-public-out-ip4 output.filter-chain=bgp-out .network=bgp \\ routing-table=main add address-families=ipv6 as=211486 disabled=no name=as211486-public-out-ip6 output.network=bgp routing-table=main FiltersAs with any BGP setup we have filters. Mikrotik changed the filter syntax in ROSv7, it feels quite a bit like bird. Their reference is pretty good. Here is a basic set of incoming and outgoing filters. The first two lines allow any network routes under 0.0.0.0/0 but not 185.133.194.0/24 which is mine. The third line allows my prefix the be annonced and nothing else. If no filter is defined for a route it will be rejected. sh /routing filter rule add chain=bgp-in comment=\"STD IPv4 IN Filter\" disabled=no rule=\"if (dst in 0.0.0.0/0) {set bgp-local-pref 90; accept}\" add chain=bgp-in comment=\"STD IPv4 IN Filter\" disabled=no rule=\"if (dst in 185.133.194.0/24) {reject}\" add chain=bgp-out comment=\"STD IPv4 OUT Filter\" disabled=no rule=\"if ( dst == 185.133.194.0/24 ) {accept}\" ConnectionLastly we add the connection which references the template, network list and filters we have just created. sh /routing bgp connection add as=211486 disabled=no input.filter=bgp-in local.role=ebgp name=ip4-mw output.filter-chain=bgp-out .network=bgp \\ remote.address=80.67.167.166/32 router-id=185.133.194.1 routing-table=main templates=as211486-public-out-ip4 Blackhole routeOne thing I often forget is to add a blackhole route to my routing table for the prefixes I would like to announce. Without this, you may have the correct filters be nothing will be announced as the router will only announce prefixes in its routing table. sh /ip route add blackhole disabled=no dst-address=185.133.194.0/24 Congratulations! You are now announcing a network with BGP on Mikrotik RouterOSv7 Source: What is BGP? | BGP routing explained - Cloudflare ↩︎ Source : What is an autonomous system? | What are ASNs? - Cloudflare ↩︎ ","date":"2022-11-13","objectID":"/posts/2022-11-13_bgp-ipv4-config-on-mikrotik-routerosv7/:0:2","series":null,"tags":["routeros","mikrotik","routerosv7","bgp","configs"],"title":"BGP IPv4 Config on Mikrotik RouterOSv7","uri":"/posts/2022-11-13_bgp-ipv4-config-on-mikrotik-routerosv7/#blackhole-route"},{"categories":null,"content":"As a young child I always had an interest in computers and tech, little did I know that it would foundation for my carear path that I have chosen today. So where I am retracing my steps of how I ended up with a server colocated in a datacenter that made me the sys and net admin I am today ","date":"2022-11-04","objectID":"/posts/2022-11-04_vps-to-a-coloed-server-my-homelab-journey/:0:0","series":["VPS to a coloed server my homelab journey"],"tags":["homelab","ovh","vps","servers","wordpress","colo","colocation"],"title":"VPS to a coloed server, my homelab journey - Part 1","uri":"/posts/2022-11-04_vps-to-a-coloed-server-my-homelab-journey/#"},{"categories":null,"content":" How I StartedAge 12 - I had built my own website (but thats a story for another post.) At age 19, I had already learnt about running small business networks and managed a couple for family businesses and friends but I had no equipmenent or anything to learn and try things on. Thats when I learnt what a Homelab is. ","date":"2022-11-04","objectID":"/posts/2022-11-04_vps-to-a-coloed-server-my-homelab-journey/:1:0","series":["VPS to a coloed server my homelab journey"],"tags":["homelab","ovh","vps","servers","wordpress","colo","colocation"],"title":"VPS to a coloed server, my homelab journey - Part 1","uri":"/posts/2022-11-04_vps-to-a-coloed-server-my-homelab-journey/#how-i-started"},{"categories":null,"content":" What is a Homelab?I can hear you in the back … What is a homelab? A homelab, in the simplest terms is a sandbox that you can learn and play with new or unfamiliar technologies. They can be as simple as a set of VM’s on an old PC or laptop to as complex whole network with it’s own ASN (we will get to that, eventually …) ","date":"2022-11-04","objectID":"/posts/2022-11-04_vps-to-a-coloed-server-my-homelab-journey/:1:1","series":["VPS to a coloed server my homelab journey"],"tags":["homelab","ovh","vps","servers","wordpress","colo","colocation"],"title":"VPS to a coloed server, my homelab journey - Part 1","uri":"/posts/2022-11-04_vps-to-a-coloed-server-my-homelab-journey/#what-is-a-homelab"},{"categories":null,"content":" Virtual Private Servers with OVH VPS Number 1: The websiteAfter doing some research I new two things: What service I wanted to Hhst: my website The rough location I wanted it hosted in: France A bit more research later I found OVH, they are a web host based in france. OVH offered and still do cheap and very good Virtual Private Servers. I went and chose a 1vCore and 512 Mb RAM server to run my website that was based on Wordpress1. This VPS2 eventually ended up hosting the website for EvansMedia, my IT and Web services company until the 10th March 2021 and what I will call ‘The Great Fire of OVH 🔥’3, where their four Strasbourg Datacenters went up in smoke (literally, more on that later). VPS Number 2: The storage serverTHe next VPS2 came around when I was looking to sync my files acroos my many devices, for privacy reasons I didn’y want to use Google Drive or an equivalent. I ended up on Owncloud and then moved to Nextcloud which is what I still use today. Nextcloud is functionally similar to Dropbox, Office 365 or Google Drive, It can be hosted in the cloud or on your own server. Next time: I’ll go over what moved me to a dedicated server and soon after my own hardware colo rack with a charity run ISP Photo by Thomas Jensen @ Unsplash.com Other posts in this series: VPS to a coloed server, my homelab journey - Part 1 VPS to a coloed server, my homelab journey - Part 2 Wordpress is a free and open-source content management system. In 2021, 30% of the worlds webites ran on Wordpress ↩︎ Virtual Private Server ↩︎ ↩︎ 10 March 2021 - Millions of websites offline after fire at French cloud services firm - Reuters ↩︎ ","date":"2022-11-04","objectID":"/posts/2022-11-04_vps-to-a-coloed-server-my-homelab-journey/:1:2","series":["VPS to a coloed server my homelab journey"],"tags":["homelab","ovh","vps","servers","wordpress","colo","colocation"],"title":"VPS to a coloed server, my homelab journey - Part 1","uri":"/posts/2022-11-04_vps-to-a-coloed-server-my-homelab-journey/#virtual-private-servers-with-ovh"},{"categories":null,"content":" Virtual Private Servers with OVH VPS Number 1: The websiteAfter doing some research I new two things: What service I wanted to Hhst: my website The rough location I wanted it hosted in: France A bit more research later I found OVH, they are a web host based in france. OVH offered and still do cheap and very good Virtual Private Servers. I went and chose a 1vCore and 512 Mb RAM server to run my website that was based on Wordpress1. This VPS2 eventually ended up hosting the website for EvansMedia, my IT and Web services company until the 10th March 2021 and what I will call ‘The Great Fire of OVH 🔥’3, where their four Strasbourg Datacenters went up in smoke (literally, more on that later). VPS Number 2: The storage serverTHe next VPS2 came around when I was looking to sync my files acroos my many devices, for privacy reasons I didn’y want to use Google Drive or an equivalent. I ended up on Owncloud and then moved to Nextcloud which is what I still use today. Nextcloud is functionally similar to Dropbox, Office 365 or Google Drive, It can be hosted in the cloud or on your own server. Next time: I’ll go over what moved me to a dedicated server and soon after my own hardware colo rack with a charity run ISP Photo by Thomas Jensen @ Unsplash.com Other posts in this series: VPS to a coloed server, my homelab journey - Part 1 VPS to a coloed server, my homelab journey - Part 2 Wordpress is a free and open-source content management system. In 2021, 30% of the worlds webites ran on Wordpress ↩︎ Virtual Private Server ↩︎ ↩︎ 10 March 2021 - Millions of websites offline after fire at French cloud services firm - Reuters ↩︎ ","date":"2022-11-04","objectID":"/posts/2022-11-04_vps-to-a-coloed-server-my-homelab-journey/:1:2","series":["VPS to a coloed server my homelab journey"],"tags":["homelab","ovh","vps","servers","wordpress","colo","colocation"],"title":"VPS to a coloed server, my homelab journey - Part 1","uri":"/posts/2022-11-04_vps-to-a-coloed-server-my-homelab-journey/#vps-number-1-the-website"},{"categories":null,"content":" Virtual Private Servers with OVH VPS Number 1: The websiteAfter doing some research I new two things: What service I wanted to Hhst: my website The rough location I wanted it hosted in: France A bit more research later I found OVH, they are a web host based in france. OVH offered and still do cheap and very good Virtual Private Servers. I went and chose a 1vCore and 512 Mb RAM server to run my website that was based on Wordpress1. This VPS2 eventually ended up hosting the website for EvansMedia, my IT and Web services company until the 10th March 2021 and what I will call ‘The Great Fire of OVH 🔥’3, where their four Strasbourg Datacenters went up in smoke (literally, more on that later). VPS Number 2: The storage serverTHe next VPS2 came around when I was looking to sync my files acroos my many devices, for privacy reasons I didn’y want to use Google Drive or an equivalent. I ended up on Owncloud and then moved to Nextcloud which is what I still use today. Nextcloud is functionally similar to Dropbox, Office 365 or Google Drive, It can be hosted in the cloud or on your own server. Next time: I’ll go over what moved me to a dedicated server and soon after my own hardware colo rack with a charity run ISP Photo by Thomas Jensen @ Unsplash.com Other posts in this series: VPS to a coloed server, my homelab journey - Part 1 VPS to a coloed server, my homelab journey - Part 2 Wordpress is a free and open-source content management system. In 2021, 30% of the worlds webites ran on Wordpress ↩︎ Virtual Private Server ↩︎ ↩︎ 10 March 2021 - Millions of websites offline after fire at French cloud services firm - Reuters ↩︎ ","date":"2022-11-04","objectID":"/posts/2022-11-04_vps-to-a-coloed-server-my-homelab-journey/:1:2","series":["VPS to a coloed server my homelab journey"],"tags":["homelab","ovh","vps","servers","wordpress","colo","colocation"],"title":"VPS to a coloed server, my homelab journey - Part 1","uri":"/posts/2022-11-04_vps-to-a-coloed-server-my-homelab-journey/#vps-number-2-the-storage-server"},{"categories":null,"content":" Hello world !I have been toying around with the idea of rebuilding a blog. ","date":"2022-10-23","objectID":"/posts/2022-10-22_hello_world/:1:0","series":null,"tags":null,"title":"Hello World","uri":"/posts/2022-10-22_hello_world/#hello-world-"},{"categories":null,"content":" What content will you find here? Projects I’m working on Random Thoughs Stuff I’ve found useful Extracts of Infratructure I’ve deployed LOTS OF RANDOMNESS Photo by: Vladislav Klapin @ unsplash.com ","date":"2022-10-23","objectID":"/posts/2022-10-22_hello_world/:1:1","series":null,"tags":null,"title":"Hello World","uri":"/posts/2022-10-22_hello_world/#what-content-will-you-find-here"},{"categories":null,"content":" TL;DRI’m a techie. No doubt about it. I’m into anything to do with computers, electronics and mechanics. ","date":"0001-01-01","objectID":"/about/:1:0","series":null,"tags":null,"title":"~ Whoami","uri":"/about/#tldr"},{"categories":null,"content":" My life in business …I was actually quite far down the road of becoming an accountant. But, once I did some internships with accountants, I knew numbers weren’t my thing. In the end, I decided to start my own business specialising in IT solutions, looking after small companies. I remember the thrill of getting my first client, followed shortly afterwards by the great reaction I got from the work I did for them. Five years later and a few jobs later, I’m now one of the lead Systems Administrators for a local council I really enjoy the variety of the work with IT. Technology is great, but it does need handholding. And I don’t know from one day to the next, which hand I’ll have to hold. Also, the industry is ever evolving. You have to learn constantly just to keep up with all the different technologies. It’s challenging, but rewarding. ","date":"0001-01-01","objectID":"/about/:1:1","series":null,"tags":null,"title":"~ Whoami","uri":"/about/#my-life-in-business-"},{"categories":null,"content":" Outside of work…I enjoy building and learning about things. Not just computers and websites. I’ve built all sorts, even 50cc motorbike engines. That’s probably a result of my childhood, when I developed a fascination with taking things apart—not in the bad, destructive way, but to learn how something worked. My parents didn’t always see it that way, of course… ","date":"0001-01-01","objectID":"/about/:1:2","series":null,"tags":null,"title":"~ Whoami","uri":"/about/#outside-of-work"},{"categories":null,"content":" Best place on Earth…Where I live currently—the south of France. There aren’t many places where you can live 30 minutes from the sea and the ski slopes. Adapted from a bio I wrote while working at YFSOL ","date":"0001-01-01","objectID":"/about/:1:3","series":null,"tags":null,"title":"~ Whoami","uri":"/about/#best-place-on-earth"}]